<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <title></title>
    <link href="css/reference.css" rel="stylesheet" />
  </head>
  <body>
    <table cellspacing="0" cellpadding="3" width="80%" border="0">
      <tbody>
        <tr>
          <td class="tblhdr">Operating Systems Development Series</td>
        </tr>
        <tr>
          <td align="middle" colspan="2"></td>
        </tr>
      </tbody>
    </table>

    <h1 class="western" data-dl-uid="19" data-dl-original="true" data-dl-translated="true">
      1.はじめに
    </h1>
    <p class="western" data-dl-uid="20" data-dl-original="true" data-dl-translated="true">ようこそ</p>
    <p class="western" data-dl-uid="21" data-dl-original="true" data-dl-translated="true">
      前回は、Video
      BIOSファームウェアのVGAを中心に、ビデオデバイスに関するいくつかの概念を紹介しました。今回は、VGA、SuperVGA、Video
      BIOSをサポートするビデオデバイスの異なるハードウェアとファームウェアのインタフェースを見て、これらのインタフェースをサポートする共通のビデオインタフェースをC言語で実装してみます。以下、取り上げるトピックを紹介します。
    </p>
    <ol>
      <li>
        <dd data-dl-uid="22" data-dl-original="true" data-dl-translated="true">VGAハードウェア</dd>
      </li>
      <li><dd data-dl-uid="23" data-dl-original="true" data-dl-translated="true">VGA BIOS</dd></li>
      <li>
        <dd data-dl-uid="24" data-dl-original="true" data-dl-translated="true">
          Vesa BIOSエクステンション
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="25"
          data-dl-original="true"
          data-dl-translated="true"
        >
          Bochs VBEインターフェース
        </dd>
      </li>
    </ol>
    <p class="western" data-dl-uid="26" data-dl-original="true" data-dl-translated="true">
      まず、パーソナルコンピュータで最も多くサポートされ、最も古い規格の1つである<b
        data-dl-uid="27"
        data-dl-original="true"
        data-dl-translated="true"
        >VGA（Video Graphics Array）</b
      >規格を紹介します。VGA規格は、標準的な方法でビデオハードウェアと対話する方法を提供しますが、低解像度の表示モードと、最新のディスプレイデバイスに存在するグラフィックアクセラレーションサポートの欠如に制限されています。ここでは、ハードウェアインターフェイスとVGA
      BIOSファームウェアインターフェイスの両方について見ていきます。VGA
      BIOSインターフェースは、VGAハードウェアインターフェースよりはるかにシンプルですが、リアルまたはv86プロセッサモードでのみ使用できます。ハードウェアインターフェイスは、どのプロセッサモードからでも使用できます。
    </p>
    <p class="western" data-dl-uid="28" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="30"
        data-dl-original="true"
        data-dl-translated="true"
        >VBEは </span
      ><b data-dl-uid="31" data-dl-original="true" data-dl-translated="true"
        >Video Electronic Standards Association（VESA</b
      ><span data-dl-uid="30" data-dl-translated="true">）が策定した規格で </span>、<span
        style="font-weight: normal"
        data-dl-uid="32"
        data-dl-original="true"
        data-dl-translated="true"
        >高解像度ディスプレイモードやモニター機能をサポートするためのBIOS拡張機能の標準</span
      >セットを提供するものである。<span data-dl-uid="32" data-dl-translated="true"
        >BIOSの拡張機能であるため、すべてのパソコンが対応しているわけではありません。また、リアルモードまたはv86モードからしか使用できない。</span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="33"
      data-dl-original="true"
      data-dl-translated="true"
    >
      本章の目的は、ビデオモードの変更とディスプレイメモリへのアクセスをカバーすることです。この章の終わりには、VGAまたはSuperVGAを使用して、そのようなことを行うデモを作成する必要があります。この後の章では、グラフィックスに焦点を当てます（SuperVGAのハードウェアグラフィックサポートもあるかもしれません）。
    </p>
    <h2 class="western" data-dl-uid="34" data-dl-original="true" data-dl-translated="true">
      1.1.BIOSとのインターフェイス
    </h2>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="35"
      data-dl-original="true"
      data-dl-translated="true"
    >
      この章のメイントピックに入る前に、少し回り道をして、BIOS
      を詳しく見ておく必要があります。前回の記事で、VGAのためにこれらのBIOSサービスのいくつかを使用したことを思い出してください。ソフトウェアがこれらのサービスを使用する場合、リアルモードまたはv8086モードで実行する必要があります。このため、プロテクトモードやロングモードのソフトウェアには問題があります。
      このため、先に進む前に解決する方法を見つける必要があります。<b
        data-dl-uid="36"
        data-dl-original="true"
        data-dl-translated="true"
        >ただし、BIOSサービスを使用する予定がない場合は、このセクションは読み飛ばしてください。</b
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="37"
      data-dl-original="true"
      data-dl-translated="true"
    >
      プロテクトモード（ロングモードではない）からBIOSを呼び出すには、2つのアプローチがあります。
    </p>
    <ol>
      <li>
        <dd data-dl-uid="38" data-dl-original="true" data-dl-translated="true">
          リアルモードへ落とし、BIOSを呼び出す
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="39"
          data-dl-original="true"
          data-dl-translated="true"
        >
          仮想8086モード
        </dd>
      </li>
    </ol>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="40"
      data-dl-original="true"
      data-dl-translated="true"
    >
      最初の方法はより単純ですが、より完全な設計のシステムには非常に不都合です。2番目の方法は最もよく使われる方法ですが、最も難しい方法でもあります。ユーザーモード、割り込みディスパッチ、タスクスイッチ、命令エミュレーションが必要です。
    </p>
    <h3 class="western" data-dl-uid="41" data-dl-original="true" data-dl-translated="true">方法1</h3>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="42"
      data-dl-original="true"
      data-dl-translated="true"
    >
      1つ目の方法は、ソフトウェアが必要なときに保護モードから実モードに切り替えられることが必要です。この方法は、ソフトウェアの設計に一定の制限（仮想メモリや上位カーネルをサポートしないなど）を設けないと、サポートが複雑化し、割に合わなくなる可能性があります。しかし、この方法は、実装が最も簡単で、ソフトウェアの追加サポートが最も少なくて済む方法です。これらの理由から、関連するデモではこの方法を選択しましたが、ソフトウェアシステムが十分に大規模で、その必要性が認められる場合には、方法2を使用することを強くお勧めします。
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="43"
      data-dl-original="true"
      data-dl-translated="true"
    >
      この方法を実装するためには、32ビットプロテクトモードと16ビットリアルモード間のインターフェースとして動作するルーチンまたはルーチンのセットが必要です。これらのルーチンは、ルーチンの入出力値を保持したまま、以下のことを行う必要があります。
    </p>
    <ol>
      <li>
        <dt data-dl-uid="44" data-dl-original="true" data-dl-translated="true">
          予約しなければならない現在のシステム状態を保存する。最も基本的な場合、これはプロテクトモードスタックとIDTRである。
        </dt>
      </li>
      <li>
        <dt data-dl-uid="45" data-dl-original="true" data-dl-translated="true">
          ハードウェア割り込みの無効化（CLI命令）。
        </dt>
      </li>
      <li>
        <dt data-dl-uid="46" data-dl-original="true" data-dl-translated="true">
          オリジナルのIVTを再読み込みします。IDTR.sizeを0xffffに、IDTR.baseを0に設定することで行われます。
        </dt>
      </li>
      <li>
        <dt data-dl-uid="47" data-dl-original="true" data-dl-translated="true">
          16ビットプロテクトモードへのジャンプを実行する。
        </dt>
      </li>
      <li>
        <dt data-dl-uid="48" data-dl-original="true" data-dl-translated="true">
          CR0.PMビットをクリアすることにより、プロテクトモードを解除することができます。
        </dt>
      </li>
      <li>
        <dt data-dl-uid="49" data-dl-original="true" data-dl-translated="true">
          16ビットリアルモードコードへのジャンプを実行する。
        </dt>
      </li>
      <li>
        <dt data-dl-uid="50" data-dl-original="true" data-dl-translated="true">
          すべてのリアルモードセグメントを設定し、割り込みを有効にし、BIOSを呼び出す。
        </dt>
      </li>
      <li>
        <dt data-dl-uid="51" data-dl-original="true" data-dl-translated="true">
          32ビットプロテクトモードへのジャンプを実行する。
        </dt>
      </li>
      <li>
        <dt
          style="margin-bottom: 0.2in"
          data-dl-uid="52"
          data-dl-original="true"
          data-dl-translated="true"
        >
          保存されたシステム状態を復元する。(1)のような最も基本的なケースでは、セレクタ、プロテクトモードスタック、IDTRがこれにあたります。
        </dt>
      </li>
    </ol>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="53"
      data-dl-original="true"
      data-dl-translated="true"
    >
      このルーチンは、システムがサポートするものへの要求が高くなるにつれて、非常に複雑になる可能性があります。上記のリストは多くのように聞こえますが、システムがページングを使用せず、カーネルイメージが1MB未満であることを前提に、よりトリッキーでハードなものとなっています。言い換えれば、<b
        data-dl-uid="54"
        data-dl-original="true"
        data-dl-translated="true"
        >プロジェクトのベースアドレスは64Kで、ルーチンを比較的単純に保つためにページングを無効にしていると仮定して</b
      >います。
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="55"
      data-dl-original="true"
      data-dl-translated="true"
    >
      デモでは、BIOSを呼び出すためにio_servicesというメソッドを使用しています。上記の手順でリアルモードに落とします。<b
        data-dl-uid="57"
        data-dl-original="true"
        data-dl-translated="true"
        >io</b
      >_servicesは以下のような感じです。
    </p>

    <pre class="western" style="margin-bottom: 0.2in">
extern void io_services (unsigned int num, INTR* in, INTR* out);</pre
    >

    <p class="western" data-dl-uid="59" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="62"
        data-dl-original="true"
        data-dl-translated="true"
        >numは割り込み番号、
      </span>
      <span
        style="font-weight: normal"
        data-dl-uid="64"
        data-dl-original="true"
        data-dl-translated="true"
        >inは </span
      ><b data-dl-uid="65" data-dl-original="true" data-dl-translated="true">INTR</b>
      <span
        style="font-weight: normal"
        data-dl-uid="66"
        data-dl-original="true"
        data-dl-translated="true"
        >構造体
      </span>
      <span data-dl-uid="64" data-dl-translated="true">へのポインタ </span>、<span
        style="font-weight: normal"
        data-dl-uid="68"
        data-dl-original="true"
        data-dl-translated="true"
        >outは出力 </span
      ><b data-dl-uid="69" data-dl-original="true" data-dl-translated="true">INTR</b>
      <span
        style="font-weight: normal"
        data-dl-uid="70"
        data-dl-original="true"
        data-dl-translated="true"
        >構造体</span
      >
      <span data-dl-uid="68" data-dl-translated="true">へのポインタ </span
      ><span
        style="font-weight: normal"
        data-dl-uid="60"
        data-dl-original="true"
        data-dl-translated="true"
        >です </span
      >。<b data-dl-uid="71" data-dl-original="true" data-dl-translated="true">INTR</b>
      <span
        style="font-weight: normal"
        data-dl-uid="72"
        data-dl-original="true"
        data-dl-translated="true"
        >はレジスタ値を格納する構造 </span
      >体の集合体です。<span data-dl-uid="72" data-dl-translated="true">io_ </span
      ><span
        style="font-weight: normal"
        data-dl-uid="74"
        data-dl-original="true"
        data-dl-translated="true"
        >servicesも </span
      ><b data-dl-uid="75" data-dl-original="true" data-dl-translated="true">INTRも</b>
      <span
        style="font-weight: normal"
        data-dl-uid="76"
        data-dl-original="true"
        data-dl-translated="true"
        >かなり大きいので、本文中では省略</span
      >します。<span
        style="font-weight: normal"
        data-dl-uid="78"
        data-dl-original="true"
        data-dl-translated="true"
        >デモの中では</span
      ><b data-dl-uid="77" data-dl-original="true" data-dl-translated="true">bios.asmを</b>
      <span data-dl-uid="76" data-dl-translated="true">参照して</span>ください。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="31*" />
        <col width="225*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="12%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics8"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="88%">
            <p
              class="western"
              style="margin-bottom: 0.2in"
              data-dl-uid="82"
              data-dl-original="true"
              data-dl-translated="true"
            >
              この例では、関数io_<span
                style="font-weight: normal"
                data-dl-uid="84"
                data-dl-original="true"
                data-dl-translated="true"
                >servicesと</span
              ><b data-dl-uid="85" data-dl-original="true" data-dl-translated="true">INTR</b>
              <span
                style="font-weight: normal"
                data-dl-uid="86"
                data-dl-original="true"
                data-dl-translated="true"
                >構造体を使用して、ビデオモードを設定するためにBIOSを呼び出します</span
              >。<span data-dl-uid="86" data-dl-translated="true"
                >Cコードはプロテクトモードで実行されていることに注意してください。</span
              >
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">vga_set_mode (</font></font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">mode) {</font></font>
<font color="#000000">        </font><font color="#008000"><font size="2">/* call BIOS */</font></font>
        INTR in, out;
        in.eax.val = mode;
        io_services (0x10, &amp;in, &amp;out);
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="103" data-dl-original="true" data-dl-translated="true">
      ソフトウェアがロングモードの場合、デバイスを直接プログラムするか、エミュレータを書くしか選択肢がありません。
    </p>
    <h3 class="western" data-dl-uid="104" data-dl-original="true" data-dl-translated="true">方法2</h3>
    <p class="western" data-dl-uid="105" data-dl-original="true" data-dl-translated="true">
      2つ目の方法は、v8086モードを使用する方法です。これは、BIOSファームウェアの呼び出しをサポートする方法として、長期的には圧倒的に優れていますが、最も要求の多い方法でもあります。v8086モードでは、最低限、オペレーティングシステムが以下をサポートする必要があります。
    </p>
    <ol>
      <li>
        <dd data-dl-uid="106" data-dl-original="true" data-dl-translated="true">
          ユーザーモードプロセス
        </dd>
      </li>
      <li>
        <dd data-dl-uid="107" data-dl-original="true" data-dl-translated="true">タスクスイッチング</dd>
      </li>
      <li>
        <dd data-dl-uid="108" data-dl-original="true" data-dl-translated="true">
          インタラプトディスパッチ
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="109"
          data-dl-original="true"
          data-dl-translated="true"
        >
          命令エミュレーション
        </dd>
      </li>
    </ol>
    <p class="western" data-dl-uid="110" data-dl-original="true" data-dl-translated="true">
      仮想8086モードはユーザーモードプロセスとしてのみ実行可能です。しかし、ユーザーモードプロセスはカーネルモード命令（<b
        data-dl-uid="111"
        data-dl-original="true"
        data-dl-translated="true"
        >int</b
      >命令など）を実行できないため、<span
        style="font-weight: normal"
        data-dl-uid="112"
        data-dl-original="true"
        data-dl-translated="true"
        >BIOSを呼び出すことができず、ある種の目的を </span
      >失ってしまうという問題が生じます。つまり、<span data-dl-uid="112" data-dl-translated="true"
        >v8086 </span
      >プロセスが<b data-dl-uid="113" data-dl-original="true" data-dl-translated="true">int</b
      ><span
        style="font-weight: normal"
        data-dl-uid="114"
        data-dl-original="true"
        data-dl-translated="true"
        >（割り込み）命令を </span
      >実行すると、<b data-dl-uid="115" data-dl-original="true" data-dl-translated="true"
        >GPF（general protection fault</b
      >）が発生します。<span
        style="font-weight: normal"
        data-dl-uid="116"
        data-dl-original="true"
        data-dl-translated="true"
      >
        これを解決するにはどうしたらいいでしょうか</span
      >？
    </p>
    <p class="western" data-dl-uid="117" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="118"
        data-dl-original="true"
        data-dl-translated="true"
        >ここで完全に解決策がないわけではありません。v8086プロセスはBIOSを呼び出すことができませんが、カーネルは </span
      ><i data-dl-uid="119" data-dl-original="true" data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="120"
          data-dl-original="true"
          data-dl-translated="true"
          >呼び出す</span
        ></i
      >ことができます<span
        style="font-style: normal"
        data-dl-uid="121"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="122"
          data-dl-original="true"
          data-dl-translated="true"
          >。 GPFが発生すると、カーネルが効果的に呼び出されます</span
        ></span
      >。<span data-dl-uid="121" data-dl-translated="true"
        ><span data-dl-uid="122" data-dl-translated="true"
          >カーネルのGPFハンドラは、何がGPFを引き起こしたかを検出し、次のように対処することができます。</span
        ></span
      >
    </p>
    <ol>
      <li>
        <dd
          style="font-style: normal; font-weight: normal"
          data-dl-uid="123"
          data-dl-original="true"
          data-dl-translated="true"
        >
          現在のプロセス.v8086フラグを確認する
        </dd>
      </li>
      <li>
        <dd data-dl-uid="124" data-dl-original="true" data-dl-translated="true">
          <span
            style="font-style: normal"
            data-dl-uid="125"
            data-dl-original="true"
            data-dl-translated="true"
            ><span
              style="font-weight: normal"
              data-dl-uid="126"
              data-dl-original="true"
              data-dl-translated="true"
              >設定されている場合、
            </span></span
          ><span
            style="font-style: normal"
            data-dl-uid="127"
            data-dl-original="true"
            data-dl-translated="true"
            ><b data-dl-uid="128" data-dl-original="true" data-dl-translated="true"
              >v86_monitorを</b
            ></span
          ><span data-dl-uid="125" data-dl-translated="true"
            ><span data-dl-uid="126" data-dl-translated="true">呼び出す </span></span
          >
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in; font-style: normal; font-weight: normal"
          data-dl-uid="129"
          data-dl-original="true"
          data-dl-translated="true"
        >
          設定されていない場合、GPFを続行し、場合によってはプロセスを終了させます。
        </dd>
      </li>
    </ol>
    <p class="western" data-dl-uid="130" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-style: normal"
        data-dl-uid="133"
        data-dl-original="true"
        data-dl-translated="true"
        ><b data-dl-uid="134" data-dl-original="true" data-dl-translated="true">v86_monitorは</b></span
      >、<span
        style="font-style: normal"
        data-dl-uid="135"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="136"
          data-dl-original="true"
          data-dl-translated="true"
          >すべてのv8086プロセスに対してカーネルGPFハンドラから呼び出される特別な関数
        </span></span
      >です。<span data-dl-uid="135" data-dl-translated="true"
        ><span data-dl-uid="136" data-dl-translated="true"
          >v8086プロセスがBIOSを呼び出そうとする（あるいはカーネルモード命令を使おうとする）たびに、カーネルGPFハンドラが呼び出され、
        </span></span
      ><span
        style="font-style: normal"
        data-dl-uid="137"
        data-dl-original="true"
        data-dl-translated="true"
        ><b data-dl-uid="138" data-dl-original="true" data-dl-translated="true">v86_</b></span
      ><span
        style="font-style: normal"
        data-dl-uid="139"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="140"
          data-dl-original="true"
          data-dl-translated="true"
          >monitorを呼び出してv8086タスクを「監視</span
        ></span
      >」するというものです。
    </p>
    <p class="western" data-dl-uid="141" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-style: normal"
        data-dl-uid="144"
        data-dl-original="true"
        data-dl-translated="true"
        ><b data-dl-uid="145" data-dl-original="true" data-dl-translated="true">v86_monitorは</b></span
      >、<span
        style="font-style: normal"
        data-dl-uid="154"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="155"
          data-dl-original="true"
          data-dl-translated="true"
          >v8086タスクが使用しようとした問題のある</span
        ></span
      >命令を<i data-dl-uid="152" data-dl-original="true" data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="153"
          data-dl-original="true"
          data-dl-translated="true"
          >エミュレート</span
        ></i
      >する<span
        style="font-style: normal"
        data-dl-uid="150"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="151"
          data-dl-original="true"
          data-dl-translated="true"
          >役割を
        </span></span
      >持つ<span
        style="font-style: normal"
        data-dl-uid="148"
        data-dl-original="true"
        data-dl-translated="true"
        ><b data-dl-uid="149" data-dl-original="true" data-dl-translated="true">v8086モニタを</b></span
      ><span
        style="font-style: normal"
        data-dl-uid="146"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="147"
          data-dl-original="true"
          data-dl-translated="true"
          >実装して
        </span></span
      >います。例えば<span data-dl-uid="154" data-dl-translated="true"
        ><span data-dl-uid="155" data-dl-translated="true">、</span></span
      ><span
        style="font-style: normal"
        data-dl-uid="156"
        data-dl-original="true"
        data-dl-translated="true"
        ><b data-dl-uid="157" data-dl-original="true" data-dl-translated="true">v8086</b></span
      ><span
        style="font-style: normal"
        data-dl-uid="158"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="159"
          data-dl-original="true"
          data-dl-translated="true"
          >モニタは</span
        ></span
      >、<span
        style="font-style: normal"
        data-dl-uid="162"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="163"
          data-dl-original="true"
          data-dl-translated="true"
          >割り込み呼び出しとして問題のある命令（CPUによってCS:EIPが
        </span></span
      >与えられる）を<i data-dl-uid="160" data-dl-original="true" data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="161"
          data-dl-original="true"
          data-dl-translated="true"
          >検出</span
        ></i
      ><span data-dl-uid="162" data-dl-translated="true"
        ><span data-dl-uid="163" data-dl-translated="true">し </span></span
      >、<span
        style="font-style: normal"
        data-dl-uid="166"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="167"
          data-dl-original="true"
          data-dl-translated="true"
          >IVT [n] （n = 呼び出すBIOS番号）を呼び出すことによってそれを
        </span></span
      ><i data-dl-uid="164" data-dl-original="true" data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="165"
          data-dl-original="true"
          data-dl-translated="true"
          >エミュレート</span
        ></i
      >します<span data-dl-uid="166" data-dl-translated="true"
        ><span data-dl-uid="167" data-dl-translated="true">（ただし、IVT命令ポインタが </span></span
      ><span
        style="font-style: normal"
        data-dl-uid="170"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="171"
          data-dl-original="true"
          data-dl-translated="true"
          >線形ではなく</span
        ></span
      ><span data-dl-uid="166" data-dl-translated="true"
        ><span data-dl-uid="167" data-dl-translated="true"
          >セグメント：オフセットフォーマットであることを思い出して
        </span></span
      ><span data-dl-uid="170" data-dl-translated="true"
        ><span data-dl-uid="171" data-dl-translated="true">ください）</span></span
      >。
    </p>
    <h1 class="western" data-dl-uid="172" data-dl-original="true" data-dl-translated="true">
      2.ビデオグラフィックアレイ(VGA)
    </h1>
    <p class="western" data-dl-uid="173" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="174" data-dl-original="true" data-dl-translated="true"
        >読者の皆様は、SuperVGAだけを見たいのであれば、このセクションは読み飛ばしていただいて結構です。</b
      >
    </p>
    <p class="western" data-dl-uid="175" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="176" data-dl-original="true" data-dl-translated="true"
        >VGA（Video Graphics Array </b
      >）は、1987年にIBM
      PS/2コンピュータ用に初めて導入されたディスプレイハードウェアの設計であるが[1]、ディスプレイの標準として各機関に広く採用されている。サポートされているビデオモードの最高解像度は640x480x16色である。PCメーカーが広く採用したため、VGAは現在でも最新のPCでサポートされている最も古い規格の1つとなっている。
    </p>
    <p class="western" data-dl-uid="177" data-dl-original="true" data-dl-translated="true">
      VGAに続いてIBMの<b data-dl-uid="178" data-dl-original="true" data-dl-translated="true"
        >Extended Graphics Array（XGA）</b
      >規格が登場したが、各メーカーが実装した拡張機能により、<span
        style="font-weight: normal"
        data-dl-uid="180"
        data-dl-original="true"
        data-dl-translated="true"
        >最近のPCで一般的な</span
      >
      <b data-dl-uid="179" data-dl-original="true" data-dl-translated="true">SuperVGA</b>
      <span data-dl-uid="180" data-dl-translated="true">アダプタが</span>生み出された。<span
        data-dl-uid="180"
        data-dl-translated="true"
        >ほとんどのSuperVGAカードはVGA規格との後方互換性がある。</span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="181"
      data-dl-original="true"
      data-dl-translated="true"
    >
      VGAの複雑さのため、これがVGAの完全な説明にはならないことに注意してください。VGAハードウェアの詳細については、資料[2]と[3]を参照してください。また、VGAに関する多くの大型書籍のうちの1つを読むことをお勧めします。
    </p>
    <h2 class="western" data-dl-uid="182" data-dl-original="true" data-dl-translated="true">
      2.1.ビデオモード
    </h2>
    <p class="western" data-dl-uid="183" data-dl-original="true" data-dl-translated="true">
      VGAがサポートするビデオモードとモード番号の標準セットがあります。ビデオ<span
        style="font-weight: normal"
        data-dl-uid="185"
        data-dl-original="true"
        data-dl-translated="true"
        >モードとは </span
      >、<b data-dl-uid="188" data-dl-original="true" data-dl-translated="true">解像度</b
      ><span
        style="font-weight: normal"
        data-dl-uid="189"
        data-dl-original="true"
        data-dl-translated="true"
        >、</span
      ><b data-dl-uid="190" data-dl-original="true" data-dl-translated="true">ビット深度</b>
      <span
        style="font-weight: normal"
        data-dl-uid="191"
        data-dl-original="true"
        data-dl-translated="true"
        >（画素あたりのビット数）、色数、 </span
      ><b data-dl-uid="192" data-dl-original="true" data-dl-translated="true">メモリ</b
      ><span
        style="font-weight: normal"
        data-dl-uid="193"
        data-dl-original="true"
        data-dl-translated="true"
        >モードなどの </span
      ><b data-dl-uid="186" data-dl-original="true" data-dl-translated="true">ディスプレイ </b
      ><span
        style="font-weight: normal"
        data-dl-uid="187"
        data-dl-original="true"
        data-dl-translated="true"
        >構成とそのプロパティを </span
      >指します。<b data-dl-uid="194" data-dl-original="true" data-dl-translated="true"
        >標準的なビデオモード番号は、0h、1h、2h、3h、4h、5h、7h、Dh、Eh、Fh、10h、11h、12h、13hです。</b
      >
      <span
        style="font-weight: normal"
        data-dl-uid="195"
        data-dl-original="true"
        data-dl-translated="true"
        >モード番号自体には特別な意味はなく、ビデオBIOSが特定のビデオモードを参照するために使用されるだけです。さらに多くのモードが存在する可能性がありますが、それらは非標準です。</span
      >
    </p>

    <table width="458" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="45" />
        <col width="79" />
        <col width="85" />
        <col width="40" />
        <col width="83" />
        <col width="75" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">Mode</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">Resolution</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">Color depth</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">Mode</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">Resolution</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">Color depth</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">0h</p>
          </td>
          <td width="79">
            <p class="western">40x25 Text</p>
          </td>
          <td width="85">
            <p class="western">16 Color</p>
          </td>
          <td width="40">
            <p class="western">Dh</p>
          </td>
          <td width="83">
            <p class="western">320x200</p>
          </td>
          <td width="75">
            <p class="western">16 Color</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">1h</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">40x25 Text</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">16 Color</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">Eh</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">640x200</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">16 Color</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">2h</p>
          </td>
          <td width="79">
            <p class="western">80x25 Text</p>
          </td>
          <td width="85">
            <p class="western">16 Color</p>
          </td>
          <td width="40">
            <p class="western">Fh</p>
          </td>
          <td width="83">
            <p class="western">640x350</p>
          </td>
          <td width="75">
            <p class="western">2 Color</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">3h</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">80x25 Text</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">16 Color</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">10h</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">640x350</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">16 Color</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">4h</p>
          </td>
          <td width="79">
            <p class="western">320x200</p>
          </td>
          <td width="85">
            <p class="western">4 Color</p>
          </td>
          <td width="40">
            <p class="western">11h</p>
          </td>
          <td width="83">
            <p class="western">640x480</p>
          </td>
          <td width="75">
            <p class="western">2 Color</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">5h</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">320x200</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">4 Gray</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">12h</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">640x480</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">16 Color</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">7h</p>
          </td>
          <td width="79">
            <p class="western">80x25 Text</p>
          </td>
          <td width="85">
            <p class="western">2 Color</p>
          </td>
          <td width="40">
            <p class="western">13h</p>
          </td>
          <td width="83">
            <p class="western">320x200</p>
          </td>
          <td width="75">
            <p class="western">256 Color</p>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="244" data-dl-original="true" data-dl-translated="true">
      標準のVGAがサポートする最高解像度は、<span
        style="font-weight: normal"
        data-dl-uid="246"
        data-dl-original="true"
        data-dl-translated="true"
        >640×480×16色の</span
      >
      <b data-dl-uid="245" data-dl-original="true" data-dl-translated="true">モード12h</b>です<span
        data-dl-uid="246"
        data-dl-translated="true"
        >（面白いことに、Windows XPのロゴ画面はモード12hで動作します）。
        これ以上の解像度は、後述するSuperVGAでないと得る</span
      >ことができません。
    </p>
    <h2 class="western" data-dl-uid="247" data-dl-original="true" data-dl-translated="true">
      2.2.VGAファームウェア
    </h2>
    <p class="western" data-dl-uid="248" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="249"
        data-dl-original="true"
        data-dl-translated="true"
        >まず、VGAのファームウェア・インターフェースと</span
      >、<b data-dl-uid="250" data-dl-original="true" data-dl-translated="true">ビデオBIOSが</b
      ><span data-dl-uid="249" data-dl-translated="true">提供するファシリティについて見て</span
      >いきます<span
        style="font-weight: normal"
        data-dl-uid="251"
        data-dl-original="true"
        data-dl-translated="true"
        >。前回は</span
      >、<span
        style="font-weight: normal"
        data-dl-uid="253"
        data-dl-original="true"
        data-dl-translated="true"
        >ビデオモードを設定</span
      >するための<b data-dl-uid="252" data-dl-original="true" data-dl-translated="true"
        >割り込み0x10ファンクション0を</b
      >筆頭に、<span data-dl-uid="251" data-dl-translated="true">いくつかのファシリティを紹介</span
      >しました。<span data-dl-uid="253" data-dl-translated="true"
        >ビデオBIOSは、より抽象的なインタフェースを通じて、VGAハードウェアの設定、取得、および操作のためのサービスを提供します。おそらく、ソフトウェアがハードウェアを直接制御するよりも、ビデオBIOSの機能を使用する方がはるかに安全で、シンプルで、ポータブルです。</span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="254"
      data-dl-original="true"
      data-dl-translated="true"
    >
      ここでは、ソフトウェアがビデオサービスに使用できる一般的なファシリティを紹介します。もちろん、これらはBIOS割り込みなので、リアルモードかv8086モードで、BIOSファームウェアを搭載したシステムでのみ使用できます。また、カーネルモードのソフトウェアでしか使用できません。
    </p>
    <h3 class="western" data-dl-uid="255" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="256" data-dl-original="true" data-dl-translated="true"
        >INT 0x10 機能 0 - ビデオモード設定</b
      >
    </h3>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="257"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="258" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="259"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dt>
    </dl>
    <ul>
      <li><dd data-dl-uid="260" data-dl-original="true" data-dl-translated="true">AH=0</dd></li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="261"
          data-dl-original="true"
          data-dl-translated="true"
        >
          AL = ビデオモード
        </dd>
      </li>
    </ul>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="262"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="263" data-dl-original="true" data-dl-translated="true">出力します。</b>
      </dt>
    </dl>
    <ul>
      <li>
        <dd data-dl-uid="264" data-dl-original="true" data-dl-translated="true">
          AL=ビデオモードフラグ (Phoenix, AMI BIOS)
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="265"
          data-dl-original="true"
          data-dl-translated="true"
        >
          AL = CRTコントローラ(CRTC)モードバイト(Phoenix 386 BIOS v1.10)
        </dd>
      </li>
    </ul>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="29*" />
        <col width="227*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="11%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics7"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="89%">
            <p class="western" style="margin-bottom: 0.2in">ビデオモードを設定する機能です。</p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">vga_set_mode (</font></font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">mode) {</font></font>
<font color="#000000">        </font><font color="#008000"><font size="2">/* call BIOS */</font></font>
        INTR in, out;
        in.eax.val = mode;
        io_services (0x10, &amp;in, &amp;out);
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="286" data-dl-original="true" data-dl-translated="true">
      これで、上記の関数を使って、Mode 13hのような任意のVGA
      BIOSビデオモードを設定できるようになりました。結果は次のようになります。
    </p>

    <p class="western" style="font-weight: normal">
      <img
        src="./graphics2_files/OSDevVid2_html_m331d1b82.gif"
        name="graphics4"
        align="LEFT"
        width="336"
        height="210"
        border="0"
      /><br clear="LEFT" /><i>Result after setting VGA mode.</i>
    </p>

    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="288"
      data-dl-original="true"
      data-dl-translated="true"
    >
      上の画像からわかるように、ディスプレイにはたくさんのゴミがあります。この「ゴミ」は、実はモード切り替え前のVGAメモリにあったものです。これには、プレーン1のテクスチャ文字やプレーン2のVGAフォントなど、4つの<b
        data-dl-uid="289"
        data-dl-original="true"
        data-dl-translated="true"
        >プレーン</b
      >（これについては後述します）のすべてが含まれています。ディスプレイをクリアすると、このすべてがクリアされます。ディスプレイをクリアするとVGAフォントもクリアされてしまうので、テキストモードに戻さなければならない場合に問題となります。これを解決するには、2つの方法があります。
    </p>
    <ol>
      <li>
        <dd data-dl-uid="290" data-dl-original="true" data-dl-translated="true">
          BIOSからVGAフォントの新しいコピーをアップロードします。
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="291"
          data-dl-original="true"
          data-dl-translated="true"
        >
          VGAフォントを保存してからメモリーをクリアし、後で復元する。
        </dd>
      </li>
    </ol>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="292"
      data-dl-original="true"
      data-dl-translated="true"
    >
      上記のいずれかを実行することで、グラフィックモードに切り替わり、エラーなくテキストモードに戻ることができます。
    </p>
    <h3 class="western" data-dl-uid="293" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="294" data-dl-original="true" data-dl-translated="true"
        >INT 0x10 機能B - パレット設定(テキストモードのみ)</b
      >
    </h3>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="295"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="296" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="297"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dt>
    </dl>
    <ul>
      <li><dd data-dl-uid="298" data-dl-original="true" data-dl-translated="true">AH=B</dd></li>
      <li><dd data-dl-uid="299" data-dl-original="true" data-dl-translated="true">BH=1</dd></li>
      <li>
        <dd data-dl-uid="300" data-dl-original="true" data-dl-translated="true">BL=Palette ID。</dd>
        <ul>
          <li>
            <dd data-dl-uid="301" data-dl-original="true" data-dl-translated="true">
              00h 背景、緑、赤、茶/黄
            </dd>
          </li>
          <li>
            <dd
              style="margin-bottom: 0.2in"
              data-dl-uid="302"
              data-dl-original="true"
              data-dl-translated="true"
            >
              01h 背景、シアン、マゼンタ、ホワイト
            </dd>
          </li>
        </ul>
      </li>
    </ul>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="28*" />
        <col width="228*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="11%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics6"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="89%">
            <p class="western" style="margin-bottom: 0.2in">
              次のコードは、VGAパレットを設定するものです。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">vga_set_palette (</font></font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">id) {</font></font>
<font color="#000000">        </font><font color="#008000"><font size="2">/* call BIOS */</font></font>
        INTR in, out;
        in.eax.val = 0xB;
        in.ebx.val = 0x0100 | id;
        io_services (0x10, &amp;in, &amp;out);
}</pre>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="321" data-dl-original="true" data-dl-translated="true">
      INT 0x10 ファンクションC - 書き込み画素数
    </h3>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="322"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="323" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="324"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dt>
    </dl>
    <ul>
      <li><dd data-dl-uid="325" data-dl-original="true" data-dl-translated="true">AH=C</dd></li>
      <li>
        <dd data-dl-uid="326" data-dl-original="true" data-dl-translated="true">
          <span
            style="font-weight: normal"
            data-dl-uid="327"
            data-dl-original="true"
            data-dl-translated="true"
            >BH=ページ</span
          ><font color="#000000" data-dl-uid="328" data-dl-original="true" data-dl-translated="true"
            ><font
              face="Times New Roman, serif"
              data-dl-uid="329"
              data-dl-original="true"
              data-dl-translated="true"
              ><font size="3" data-dl-uid="330" data-dl-original="true" data-dl-translated="true"
                ><span
                  style="font-style: normal"
                  data-dl-uid="331"
                  data-dl-original="true"
                  data-dl-translated="true"
                  ><span
                    style="font-weight: normal"
                    data-dl-uid="332"
                    data-dl-original="true"
                    data-dl-translated="true"
                    >番号</span
                  ></span
                ></font
              ></font
            ></font
          >
        </dd>
      </li>
      <li><dd data-dl-uid="333" data-dl-original="true" data-dl-translated="true">AL=画素の色</dd></li>
      <li><dd data-dl-uid="334" data-dl-original="true" data-dl-translated="true">CX=カラム</dd></li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="335"
          data-dl-original="true"
          data-dl-translated="true"
        >
          DX=行
        </dd>
      </li>
    </ul>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="336"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="337" data-dl-original="true" data-dl-translated="true">出力します。</b>
      </dt>
    </dl>
    <ul>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="338"
          data-dl-original="true"
          data-dl-translated="true"
        >
          AL=画素の色
        </dd>
      </li>
    </ul>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="28*" />
        <col width="228*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="11%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics5"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="89%">
            <p class="western" style="margin-bottom: 0.2in">
              以下は、ピクセルの書き込みです。これはデモでは使用されないので省略されるかもしれません。
            </p>
            <pre
              class="western"
            ><font color="#0000ff">void</font><font color="#000000"> vga_plot_pixel (</font><font color="#0000ff">int</font><font color="#000000"> col, </font><font color="#0000ff">int</font><font color="#000000"> x, </font><font color="#0000ff">int</font><font color="#000000"> y) {</font>
<font color="#000000">        </font><font color="#008000"><font size="2">/* call BIOS */</font></font>
        <font size="2">INTR in, out;</font>
        <font size="2">in.eax.val = 0x0C00 | col;</font>
        <font size="2">in.ebx.val = 0;</font>
        <font size="2">in.ecx.val = x;</font>
        <font size="2">in.edx.val = y;</font>
        <font size="2">io_services (0x10, &amp;in, &amp;out);</font>
<font size="2">}</font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="362" data-dl-original="true" data-dl-translated="true">
      Bochsエミュレータのバージョンによっては、この割り込みに対応していないものがありますので、ご注意ください。しかし、VirtualPCでは実装されています。
      上記の割り込みを使って、ピクセルをプロットすることができます。
    </p>
    <h3 class="western" data-dl-uid="363" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="364" data-dl-original="true" data-dl-translated="true"
        >INT 0x10 ファンクション F - ビデオモード取得</b
      >
    </h3>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="365"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="366" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="367"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dt>
    </dl>
    <ul>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="368"
          data-dl-original="true"
          data-dl-translated="true"
        >
          AH=F
        </dd>
      </li>
    </ul>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="369"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="370" data-dl-original="true" data-dl-translated="true">出力します。</b>
      </dt>
    </dl>
    <ul>
      <li><dd data-dl-uid="371" data-dl-original="true" data-dl-translated="true">AH=文字列の数</dd></li>
      <li>
        <dd data-dl-uid="372" data-dl-original="true" data-dl-translated="true">
          AL=ページ番号を表示する
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="373"
          data-dl-original="true"
          data-dl-translated="true"
        >
          BH=アクティブなページ
        </dd>
      </li>
    </ul>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="29*" />
        <col width="227*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="11%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics3"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="89%">
            <p class="western" style="margin-bottom: 0.2in; font-weight: normal">
              次のコードは、モード情報を返すものです。
            </p>
            <pre
              class="western"
              style="font-weight: normal"
            >void vga_get_mode (unsigned int* col, unsigned int* dispPage, unsigned int* actPage) {
  <span style="font-weight: normal">INTR in, out;</span>
  <span style="font-weight: normal">/* sanity check */</span>
  <span style="font-weight: normal">if (!col || !dispPage || !actPage)</span>
     <span style="font-weight: normal">return;</span>

  <font size="2"><span style="font-weight: normal">in.eax.val = 0xf;</span></font>
  <font size="2"><span style="font-weight: normal">io_services (0x10, &amp;in, &amp;out);</span></font>
  <span style="font-weight: normal">*dispPage = out.ax.r.al;</span>
  <span style="font-weight: normal">*actPage = out.bx.r.bh;</span>
}</pre>
          </td>
        </tr>
      </tbody>
    </table>

    <h2 class="western" data-dl-uid="389" data-dl-original="true" data-dl-translated="true">
      2.3.VGA ハードウェア・インターフェース
    </h2>
    <p class="western" data-dl-uid="390" data-dl-original="true" data-dl-translated="true">
      VGAのハードウェアインターフェイスは非常に複雑で、5つのコントローラと、ポートI/Oアドレス空間からアクセスできる100以上のハードウェアレジスタで構成されています。標準的なレジスタ構成は、現在でも見られる標準的なVGAビデオモードの定義に役立っている。ポートI/Oアドレス空間を使用するため、ソフトウェアはどのプロセッサモードでもVGAハードウェアとのインタフェースが可能です。
      もちろん、ソフトウェアがハードウェアと実際に対話するための<b
        data-dl-uid="391"
        data-dl-original="true"
        data-dl-translated="true"
        >イン</b
      >および<b data-dl-uid="392" data-dl-original="true" data-dl-translated="true">アウト</b
      >命令ファミリのスーパーバイザレベル（リング0）である必要があります。このように、VGAハードウェアにアクセスできるのはカーネルモードソフトウェアのみです。ユーザーモードのソフトウェアがこれを試みると、<b
        data-dl-uid="393"
        data-dl-original="true"
        data-dl-translated="true"
        >in</b
      >または<b data-dl-uid="394" data-dl-original="true" data-dl-translated="true">out</b
      >命令の実行時に一般保護フォルトが生成されます。
    </p>
    <p class="western" data-dl-uid="395" data-dl-original="true" data-dl-translated="true">
      ハードウェアを見る前に、警告があります。この警告は、無効なデータやデバイスがサポートする範囲外のデータ（例えば、デバイスが安全な方法で作業できない過剰な周波数設定）からの保護が欠けている可能性があるすべてのディスプレイモニターとビデオカードに適用されます。ほとんどの最新のモニターは、無効な設定に対してエラーメッセージを表示するか、出力を表示しません。実際のハードウェアでテストする前に、まずエミュレータや仮想環境でテストし、ドライバソフトウェアが正しく動作することを確認してから、実際のハードウェアでテストするようにしてください。
    </p>
    <h3 class="western" data-dl-uid="396" data-dl-original="true" data-dl-translated="true">
      ビデオメモリ
    </h3>
    <p class="western" data-dl-uid="397" data-dl-original="true" data-dl-translated="true">
      VGAのメモリレイアウトは、現在アクティブになっているビデオモードの種類によって異なります。VGAは以下のメモリレイアウトをサポートしています。
    </p>
    <ol>
      <li><dd data-dl-uid="398" data-dl-original="true" data-dl-translated="true">リニア</dd></li>
      <li><dd data-dl-uid="399" data-dl-original="true" data-dl-translated="true">プラナー</dd></li>
      <li><dd data-dl-uid="400" data-dl-original="true" data-dl-translated="true">パレット</dd></li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="401"
          data-dl-original="true"
          data-dl-translated="true"
        >
          4 カラーモード
        </dd>
      </li>
    </ol>
    <p class="western" data-dl-uid="402" data-dl-original="true" data-dl-translated="true">
      次に、これらのすべてのモードと、それらがどのような場合に使用されるかを見ていきます。ディスプレイのメモリを正しく読み書きするためには、さまざまなメモリモデルを知っておくことが重要です。リニアモードは最も複雑なので、最後に説明します。しかし、その前に、まずビデオメモリへのアクセス方法を知っておく必要があります。
    </p>
    <p class="western" data-dl-uid="403" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="406" data-dl-original="true" data-dl-translated="true">システムアーキテクチャ</b
      >の章で<span
        style="font-weight: normal"
        data-dl-uid="405"
        data-dl-original="true"
        data-dl-translated="true"
        >見た
      </span>
      <b data-dl-uid="404" data-dl-original="true" data-dl-translated="true">メモリマップを思い出して</b>
      <span
        style="font-weight: normal"
        data-dl-uid="407"
        data-dl-original="true"
        data-dl-translated="true"
        >ください。 ここにもう一度あります</span
      >。
    </p>
    <ul>
      <li>
        <dt data-dl-uid="408" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="409" data-dl-original="true" data-dl-translated="true"
            >0x00000000 - 0x000003FF</b
          >- リアルモード割り込みベクターテーブル
        </dt>
      </li>
      <li>
        <dt data-dl-uid="410" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="411" data-dl-original="true" data-dl-translated="true"
            >0x00000400 - 0x000004FF</b
          >- BIOSデータ領域
        </dt>
      </li>
      <li>
        <dt data-dl-uid="412" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="413" data-dl-original="true" data-dl-translated="true"
            >0x00000500 - 0x00007BFF</b
          >- 未使用
        </dt>
      </li>
      <li>
        <dt data-dl-uid="414" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="415" data-dl-original="true" data-dl-translated="true"
            >0x00007C00 - 0x00007DFF</b
          >- 当社ブートローダ
        </dt>
      </li>
      <li>
        <dt data-dl-uid="416" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="417" data-dl-original="true" data-dl-translated="true"
            >0x00007E00 - 0x0009FFFF</b
          >- 未使用
        </dt>
      </li>
      <li>
        <dt data-dl-uid="418" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="419" data-dl-original="true" data-dl-translated="true"
            >0x000A0000 - 0x000BFFFF</b
          >- ビデオ RAM (VRAM)メモリ
        </dt>
      </li>
      <li>
        <dt data-dl-uid="420" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="421" data-dl-original="true" data-dl-translated="true"
            >0x000B0000 - 0x000B7777</b
          >- モノクロビデオメモリ
        </dt>
      </li>
      <li>
        <dt data-dl-uid="422" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="423" data-dl-original="true" data-dl-translated="true"
            >0x000B8000 - 0x000BFFFF</b
          >- カラービデオメモリ
        </dt>
      </li>
      <li>
        <dt data-dl-uid="424" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="425" data-dl-original="true" data-dl-translated="true"
            >0x000C0000 - 0x000C7FFF</b
          >- ビデオ ROM BIOS
        </dt>
      </li>
      <li>
        <dt data-dl-uid="426" data-dl-original="true" data-dl-translated="true">
          <b data-dl-uid="427" data-dl-original="true" data-dl-translated="true"
            >0x000C8000 - 0x000EFFFF</b
          >- BIOSシャドウ領域
        </dt>
      </li>
      <li>
        <dt
          style="margin-bottom: 0.2in"
          data-dl-uid="428"
          data-dl-original="true"
          data-dl-translated="true"
        >
          <font color="#000000" data-dl-uid="429" data-dl-original="true" data-dl-translated="true"
            ><font face="Verdana" data-dl-uid="430" data-dl-original="true" data-dl-translated="true"
              ><font
                size="2"
                style="font-size: 9pt"
                data-dl-uid="431"
                data-dl-original="true"
                data-dl-translated="true"
                ><span
                  style="font-style: normal"
                  data-dl-uid="432"
                  data-dl-original="true"
                  data-dl-translated="true"
                  ><b data-dl-uid="433" data-dl-original="true" data-dl-translated="true"
                    >0x000F0000 - 0x000FFFFF</b
                  ></span
                ></font
              ></font
            ></font
          ><font color="#000000" data-dl-uid="435" data-dl-original="true" data-dl-translated="true"
            ><font face="Verdana" data-dl-uid="436" data-dl-original="true" data-dl-translated="true"
              ><font
                size="2"
                style="font-size: 9pt"
                data-dl-uid="437"
                data-dl-original="true"
                data-dl-translated="true"
                ><span
                  style="font-style: normal"
                  data-dl-uid="438"
                  data-dl-original="true"
                  data-dl-translated="true"
                  ><span
                    style="font-weight: normal"
                    data-dl-uid="439"
                    data-dl-original="true"
                    data-dl-translated="true"
                    >- システムBIOS</span
                  ></span
                ></font
              ></font
            ></font
          >
        </dt>
      </li>
    </ul>
    <h4 style="font-weight: normal" data-dl-uid="440" data-dl-original="true" data-dl-translated="true">
      メモリマップによると、ビデオメモリは<b
        data-dl-uid="441"
        data-dl-original="true"
        data-dl-translated="true"
        >0xA0000～0xBFFFFの</b
      >物理アドレス空間にマッピングされています。これは<b
        data-dl-uid="442"
        data-dl-original="true"
        data-dl-translated="true"
        >0x1FFFF</b
      >バイトのメモリ、つまり131072バイトの128Kに相当します。2]によると、VGAのハードウェアは最大256Kのメモリを搭載していますが、マッピングされているのは128Kだけです。<b
        data-dl-uid="443"
        data-dl-original="true"
        data-dl-translated="true"
        >グラフィックモードメモリは0xA0000から始まり、0xAFFFF、つまり64Kまで拡張することが</b
      >できます。以下のいくつかの例では、これを実証します。
    </h4>
    <h4 data-dl-uid="444" data-dl-original="true" data-dl-translated="true">
      プラナーメモリーモード（16ビットカラーモード）
    </h4>
    <p class="western" data-dl-uid="445" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="446"
        data-dl-original="true"
        data-dl-translated="true"
        >VGAメモリは4つの </span
      ><b data-dl-uid="447" data-dl-original="true" data-dl-translated="true">プレーンとして</b
      ><span data-dl-uid="446" data-dl-translated="true">参照 </span>されます。<span
        style="text-decoration: none"
        data-dl-uid="448"
        data-dl-original="true"
        data-dl-translated="true"
      >
      </span
      ><span
        style="text-decoration: none"
        data-dl-uid="449"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-weight: normal"
          data-dl-uid="450"
          data-dl-original="true"
          data-dl-translated="true"
          >それぞれ64kのメモリ</span
        ></span
      >です。<span data-dl-uid="449" data-dl-translated="true"
        ><span data-dl-uid="450" data-dl-translated="true"
          >これは、4つのウィンドウが重なっているようなものです。これらのウィンドウがプレーンです。</span
        ></span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal; text-decoration: none"
      data-dl-uid="451"
      data-dl-original="true"
      data-dl-translated="true"
    >
      16色モードでは、1色あたり4ビットです。この4ビットは各プレーンの同じ位置に格納されています。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="31*" />
        <col width="225*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="12%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics9"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="88%">
            <p
              class="western"
              style="font-weight: normal; text-decoration: none"
              data-dl-uid="455"
              data-dl-original="true"
              data-dl-translated="true"
            >
              plane0[0]、plane1[0]、plane2[0]、plane3[0]に4bitの画素を格納することができる。これは、ディスプレイメモリに1つのピクセルを表示します。4
              ビットピクセルが 4 つのプレーンすべてに格納され、各プレーンはピクセルの 1
              ビットだけを格納することに注意してください。また、ピクセルは4つのプレーンすべてで同じ位置（インデックスが0）にあることにも注目してください。
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <p
      class="western"
      style="text-decoration: none"
      data-dl-uid="456"
      data-dl-original="true"
      data-dl-translated="true"
    >
      プレーナーメモリモードでの画素の書き込みの例は、レジスタやビデオモードの設定方法を確認した後に少しずつ紹介していきますが、残念ながら画素の書き込みには、書き込み先のプレーンを選択するためのハードウェアレジスタへの書き込みも必要なため、まだ例を挙げることはできません。
    </p>
    <h4
      style="text-decoration: none"
      data-dl-uid="457"
      data-dl-original="true"
      data-dl-translated="true"
    >
      パレットメモリーモード（256色モード
    </h4>
    <p class="western" data-dl-uid="458" data-dl-original="true" data-dl-translated="true">
      <span
        style="text-decoration: none"
        data-dl-uid="459"
        data-dl-original="true"
        data-dl-translated="true"
        >パレットメモリモードでは、各画素は</span
      ><span
        style="text-decoration: none"
        data-dl-uid="462"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="463"
          data-dl-original="true"
          data-dl-translated="true"
          >カラーテーブルの
        </span></span
      ><span data-dl-uid="459" data-dl-translated="true">番号（</span
      ><span
        style="text-decoration: none"
        data-dl-uid="460"
        data-dl-original="true"
        data-dl-translated="true"
        ><i data-dl-uid="461" data-dl-original="true" data-dl-translated="true">インデックス</i></span
      >）で<span data-dl-uid="459" data-dl-translated="true">表現さ</span
      >れ、カラーテーブルがパレットとなる。<span
        style="text-decoration: none"
        data-dl-uid="467"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="468"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="469"
            data-dl-original="true"
            data-dl-translated="true"
            >最も代表的なのは、1画素が8ビットの256色</span
          ></span
        ></span
      >モードだろう。<span data-dl-uid="467" data-dl-translated="true"
        ><span data-dl-uid="468" data-dl-translated="true"
          ><span data-dl-uid="469" data-dl-translated="true"
            >このほか、2色しかない16色（4ビットピクセル）、モノクロ（1ビットピクセル）モードもあります。</span
          ></span
        ></span
      >
    </p>
    <p
      class="western"
      style="font-style: normal; font-weight: normal; text-decoration: none"
      data-dl-uid="470"
      data-dl-original="true"
      data-dl-translated="true"
    >
      カラーテーブルは次のようなものです。これは16色モードで使用されるパレットで、実際、システム起動時のデフォルトはVGAテキストモードパレットです。
    </p>
    <table width="377" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="GROUPS">
      <colgroup>
        <col width="62" />
        <col width="92" />
        <col width="63" />
        <col width="126" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="62" bgcolor="#e6e6e6">
            <p class="western" data-dl-uid="471" data-dl-original="true" data-dl-translated="true">
              インデックス
            </p>
          </td>
          <td width="92" bgcolor="#e6e6e6">
            <p class="western" data-dl-uid="472" data-dl-original="true" data-dl-translated="true">
              色名
            </p>
          </td>
          <td width="63" bgcolor="#e6e6e6">
            <p class="western" data-dl-uid="473" data-dl-original="true" data-dl-translated="true">
              インデックス
            </p>
          </td>
          <td width="126" bgcolor="#e6e6e6">
            <p class="western" data-dl-uid="474" data-dl-original="true" data-dl-translated="true">
              色名
            </p>
          </td>
        </tr>
      </tbody>
      <tbody>
        <tr valign="TOP">
          <td width="62" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western" data-dl-uid="475" data-dl-original="true" data-dl-translated="true">0</p>
          </td>
          <td width="92" bgcolor="#cccccc">
            <p class="western" data-dl-uid="476" data-dl-original="true" data-dl-translated="true">
              ブラック
            </p>
          </td>
          <td width="63" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western" data-dl-uid="477" data-dl-original="true" data-dl-translated="true">8</p>
          </td>
          <td width="126" bgcolor="#cccccc">
            <p class="western" data-dl-uid="478" data-dl-original="true" data-dl-translated="true">
              ダークグレー
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="62" sdval="1" sdnum="1033;">
            <p class="western" data-dl-uid="479" data-dl-original="true" data-dl-translated="true">1</p>
          </td>
          <td width="92">
            <p class="western" data-dl-uid="480" data-dl-original="true" data-dl-translated="true">青</p>
          </td>
          <td width="63" sdval="9" sdnum="1033;">
            <p class="western" data-dl-uid="481" data-dl-original="true" data-dl-translated="true">9</p>
          </td>
          <td width="126">
            <p class="western" data-dl-uid="482" data-dl-original="true" data-dl-translated="true">
              ライトブルー
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="62" bgcolor="#cccccc" sdval="2" sdnum="1033;">
            <p class="western" data-dl-uid="483" data-dl-original="true" data-dl-translated="true">2</p>
          </td>
          <td width="92" bgcolor="#cccccc">
            <p class="western" data-dl-uid="484" data-dl-original="true" data-dl-translated="true">
              グリーン
            </p>
          </td>
          <td width="63" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western" data-dl-uid="485" data-dl-original="true" data-dl-translated="true">10</p>
          </td>
          <td width="126" bgcolor="#cccccc">
            <p class="western" data-dl-uid="486" data-dl-original="true" data-dl-translated="true">
              ライトグリーン
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="62" sdval="3" sdnum="1033;">
            <p class="western" data-dl-uid="487" data-dl-original="true" data-dl-translated="true">3</p>
          </td>
          <td width="92">
            <p class="western" data-dl-uid="488" data-dl-original="true" data-dl-translated="true">
              シアン
            </p>
          </td>
          <td width="63" sdval="11" sdnum="1033;">
            <p class="western" data-dl-uid="489" data-dl-original="true" data-dl-translated="true">11</p>
          </td>
          <td width="126">
            <p class="western" data-dl-uid="490" data-dl-original="true" data-dl-translated="true">
              ライトシアン
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="62" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western" data-dl-uid="491" data-dl-original="true" data-dl-translated="true">4</p>
          </td>
          <td width="92" bgcolor="#cccccc">
            <p class="western" data-dl-uid="492" data-dl-original="true" data-dl-translated="true">
              赤色
            </p>
          </td>
          <td width="63" bgcolor="#cccccc" sdval="12" sdnum="1033;">
            <p class="western" data-dl-uid="493" data-dl-original="true" data-dl-translated="true">12</p>
          </td>
          <td width="126" bgcolor="#cccccc">
            <p class="western" data-dl-uid="494" data-dl-original="true" data-dl-translated="true">
              ライトレッド
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="62" sdval="5" sdnum="1033;">
            <p class="western" data-dl-uid="495" data-dl-original="true" data-dl-translated="true">5</p>
          </td>
          <td width="92">
            <p class="western" data-dl-uid="496" data-dl-original="true" data-dl-translated="true">
              マゼンタ
            </p>
          </td>
          <td width="63" sdval="13" sdnum="1033;">
            <p class="western" data-dl-uid="497" data-dl-original="true" data-dl-translated="true">13</p>
          </td>
          <td width="126">
            <p class="western" data-dl-uid="498" data-dl-original="true" data-dl-translated="true">
              ライトマゼンタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="62" bgcolor="#cccccc" sdval="6" sdnum="1033;">
            <p class="western" data-dl-uid="499" data-dl-original="true" data-dl-translated="true">6</p>
          </td>
          <td width="92" bgcolor="#cccccc">
            <p class="western" data-dl-uid="500" data-dl-original="true" data-dl-translated="true">
              ブラウン
            </p>
          </td>
          <td width="63" bgcolor="#cccccc" sdval="14" sdnum="1033;">
            <p class="western" data-dl-uid="501" data-dl-original="true" data-dl-translated="true">14</p>
          </td>
          <td width="126" bgcolor="#cccccc">
            <p class="western" data-dl-uid="502" data-dl-original="true" data-dl-translated="true">
              黄色
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="62" sdval="7" sdnum="1033;">
            <p class="western" data-dl-uid="503" data-dl-original="true" data-dl-translated="true">7</p>
          </td>
          <td width="92">
            <p class="western" data-dl-uid="504" data-dl-original="true" data-dl-translated="true">
              ライトグレー
            </p>
          </td>
          <td width="63" sdval="15" sdnum="1033;">
            <p class="western" data-dl-uid="505" data-dl-original="true" data-dl-translated="true">15</p>
          </td>
          <td width="126">
            <p class="western" data-dl-uid="506" data-dl-original="true" data-dl-translated="true">
              白色
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="507" data-dl-original="true" data-dl-translated="true">
      テキストモードでのパレットの使用例を見てみましょう。
    </p>
    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="34*" />
        <col width="222*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics10"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="font-style: normal; font-weight: normal; text-decoration: none"
              data-dl-uid="511"
              data-dl-original="true"
              data-dl-translated="true"
            >
              テキストモードでは、各文字は文字コード（通常はASCII文字）と属性バイトを含むことを思い出してください。アトリビュート・バイトは、上記のパレットへのインデックスです。言い換えれば、もしあなたがプロテクトモードでテキストモードを扱ったことがあるなら、すでにパレットメモリーモードを扱ったことがあるのです!
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="512" data-dl-original="true" data-dl-translated="true">
      <span
        style="text-decoration: none"
        data-dl-uid="513"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="514"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="515"
            data-dl-original="true"
            data-dl-translated="true"
            >256色モードは、DOSビデオゲームで広く使われていた。
          </span></span
        ></span
      >これは、<span
        style="text-decoration: none"
        data-dl-uid="520"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="521"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="522"
            data-dl-original="true"
            data-dl-translated="true"
            >標準的なVideo BIOSのモード番号から
          </span></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="516"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="517"
          data-dl-original="true"
          data-dl-translated="true"
          ><b data-dl-uid="518" data-dl-original="true" data-dl-translated="true">Mode 13h</b></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="519"
        data-dl-original="true"
        data-dl-translated="true"
      >
      </span
      ><span data-dl-uid="513" data-dl-translated="true"
        ><span data-dl-uid="514" data-dl-translated="true"
          ><span data-dl-uid="515" data-dl-translated="true"
            >として悪名高く知られるようになった
          </span></span
        ></span
      >。<span data-dl-uid="520" data-dl-translated="true"
        ><span data-dl-uid="521" data-dl-translated="true"
          ><span data-dl-uid="522" data-dl-translated="true"
            >Mode
            13hは、非常に高速でリニアであり、一度に256色を画面に表示できるため、興味深いモードである。
          </span></span
        ></span
      >つまり、このモードの<span data-dl-uid="520" data-dl-translated="true"
        ><span data-dl-uid="521" data-dl-translated="true"
          ><span data-dl-uid="522" data-dl-translated="true">ビデオメモリは、 </span></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="523"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="524"
          data-dl-original="true"
          data-dl-translated="true"
          ><b data-dl-uid="525" data-dl-original="true" data-dl-translated="true">リニア</b></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="526"
        data-dl-original="true"
        data-dl-translated="true"
      >
      </span
      ><span
        style="text-decoration: none"
        data-dl-uid="527"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="528"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="529"
            data-dl-original="true"
            data-dl-translated="true"
            >、各ピクセルが1バイトで、メモリ内に互いに直後に格納される。Mode
            13hが面白いのは、VGAがリニアではなくプレーナディスプレイデバイス</span
          ></span
        ></span
      >であることだ。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="35*" />
        <col width="221*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics11"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="
                margin-bottom: 0.2in;
                font-style: normal;
                font-weight: normal;
                text-decoration: none;
              "
              data-dl-uid="533"
              data-dl-original="true"
              data-dl-translated="true"
            >
              以下のCコードでは、モード13hのあるx、y位置に256色モードの画素をプロットする関数<b
                data-dl-uid="534"
                data-dl-original="true"
                data-dl-translated="true"
                >pixel_256を</b
              >定義しています。モード13hは320x200なので、ピッチ(ここではピッチは幅)は320であることを想起してください。また、VGA
              BIOSの割り込みプロットピクセルサービスとは異なり、こちらはどんなPCエミュレータや仮想マシンでも動作します。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">#define</font></font><font color="#000000"> </font><font color="#000000"><font size="2">VGA_VRAM 0xA0000</font></font>
<font color="#0000ff"><font size="2">#define</font></font><font color="#000000"> </font><font color="#000000"><font size="2">PITCH 320</font></font>
<font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">pixel_256 (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"> </font><font color="#000000"><font size="2">color, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">x, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">y) {</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"><font size="2">* fb       = (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"><font size="2">*) VGA_VRAM;</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">offset     = y * PITCH + x;</font></font>
   fb [offset] = color;
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p
      class="western"
      style="font-style: normal; font-weight: normal; text-decoration: none"
      data-dl-uid="601"
      data-dl-original="true"
      data-dl-translated="true"
    >
      上記の例は、Mode
      13hを使った作業の簡便さを示すものでもあります。複数のピクセルに連続して書き込むだけで、複数のピクセルをレンダリングすることができます。256色モードでは、各ピクセルはバイトで表されるため、符号なし文字列を使用します。
    </p>
    <p
      class="western"
      style="font-style: normal; font-weight: normal; text-decoration: none"
      data-dl-uid="602"
      data-dl-original="true"
      data-dl-translated="true"
    >
      パレットメモリーモードでは、一度に表示できる色数に上限があります。これは、そのモードで使用されているカラーテーブルのエントリ数と同じです。例えば、256色モードでは最大256色まで、16色モードでは16色までしか表示できない。ソフトウェアでカラーテーブルを変更することで、異なる色を表示することも可能です。
    </p>
    <h4
      style="font-style: normal; text-decoration: none"
      data-dl-uid="603"
      data-dl-original="true"
      data-dl-translated="true"
    >
      <b data-dl-uid="604" data-dl-original="true" data-dl-translated="true">リニアメモリーモード</b>
    </h4>
    <p class="western" data-dl-uid="605" data-dl-original="true" data-dl-translated="true">
      <span
        style="text-decoration: none"
        data-dl-uid="606"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="607"
          data-dl-original="true"
          data-dl-translated="true"
          ><b data-dl-uid="608" data-dl-original="true" data-dl-translated="true"
            >リニアメモリモード</b
          ></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="609"
        data-dl-original="true"
        data-dl-translated="true"
      >
      </span
      ><span
        style="text-decoration: none"
        data-dl-uid="613"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="614"
          data-dl-original="true"
          data-dl-translated="true"
          ><b data-dl-uid="615" data-dl-original="true" data-dl-translated="true"
            >リニアフレームバッファ(LFB</b
          ></span
        ></span
      >)を<span
        style="text-decoration: none"
        data-dl-uid="610"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="611"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="612"
            data-dl-original="true"
            data-dl-translated="true"
            >サポートするビデオモードのセット
          </span></span
        ></span
      >です<span
        style="text-decoration: none"
        data-dl-uid="616"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="617"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="618"
            data-dl-original="true"
            data-dl-translated="true"
            >。 リニアメモリは連続したバイトの配列で、C言語の配列と同じです。モード13hは、リニアメモリ
            モデルを持つモードの一例
          </span></span
        ></span
      >です。<span data-dl-uid="616" data-dl-translated="true"
        ><span data-dl-uid="617" data-dl-translated="true"
          ><span data-dl-uid="618" data-dl-translated="true">また </span></span
        ></span
      >、Mode<span
        style="text-decoration: none"
        data-dl-uid="619"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="620"
          data-dl-original="true"
          data-dl-translated="true"
          ><b data-dl-uid="621" data-dl-original="true" data-dl-translated="true"
            >X (360x480x256 color)</b
          ></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="622"
        data-dl-original="true"
        data-dl-translated="true"
      >
      </span
      ><span
        style="text-decoration: none"
        data-dl-uid="623"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="624"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="625"
            data-dl-original="true"
            data-dl-translated="true"
            >や</span
          ></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="626"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="627"
          data-dl-original="true"
          data-dl-translated="true"
          ><b data-dl-uid="628" data-dl-original="true" data-dl-translated="true"
            >Mode Q (chain-4 256x256x256 color)</b
          ></span
        ></span
      ><span
        style="text-decoration: none"
        data-dl-uid="629"
        data-dl-original="true"
        data-dl-translated="true"
      >
      </span
      ><span
        style="text-decoration: none"
        data-dl-uid="630"
        data-dl-original="true"
        data-dl-translated="true"
        ><span
          style="font-style: normal"
          data-dl-uid="631"
          data-dl-original="true"
          data-dl-translated="true"
          ><span
            style="font-weight: normal"
            data-dl-uid="632"
            data-dl-original="true"
            data-dl-translated="true"
            >は、Mode 13h の改良版</span
          ></span
        ></span
      >として<span data-dl-uid="616" data-dl-translated="true"
        ><span data-dl-uid="617" data-dl-translated="true"
          ><span data-dl-uid="618" data-dl-translated="true">悪名高い </span></span
        ></span
      >モードです。
    </p>
    <p
      class="western"
      style="font-style: normal; font-weight: normal; text-decoration: none"
      data-dl-uid="633"
      data-dl-original="true"
      data-dl-translated="true"
    >
      VGAはリニアデバイスではなく、リニアメモリモードをサポートしないことを思い出してください。Mode
      13h、Mode X、Mode
      Qといったモードはすべて、リニアメモリモデルのように見えるようにハードウェアを構成するプレーナモードである。
    </p>
    <p
      class="western"
      style="font-style: normal; font-weight: normal; text-decoration: none"
      data-dl-uid="634"
      data-dl-original="true"
      data-dl-translated="true"
    >
      リニアメモリーモードで画素を書き込むには、画素位置のオフセットを計算してフレームバッファに書き込むだけでよい。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="31*" />
        <col width="225*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="12%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics12"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="88%">
            <p class="western" style="margin-bottom: 0.2in; font-weight: normal">
              次のコードは、リニアメモリーモードで8ビットピクセルをプロットします。
              この例は、上記と同じですが、より汎用的で、リニアメモリーモデルを持つどのモードにも適用可能です。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">#define</font></font><font color="#000000"> </font><font color="#000000"><font size="2">VGA_VRAM 0xA0000</font></font>
<font color="#0000ff"><font size="2">#define</font></font><font color="#000000"> </font><font color="#000000"><font size="2">PITCH 320</font></font>
<font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">pixel_256 (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"> </font><font color="#000000"><font size="2">color, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">x, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">y) {</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"><font size="2">* fb       = (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"><font size="2">*) VGA_VRAM;</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">offset     = y * PITCH + x;</font></font>
   fb [offset] = color;
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="705" data-dl-original="true" data-dl-translated="true">
      ハードウェア
    </h3>
    <p class="western" data-dl-uid="706" data-dl-original="true" data-dl-translated="true">
      VGAのハードウェア設計は、以下のコンポーネントで構成されています。この中には見覚えのあるものもあるかもしれません。
    </p>
    <ol>
      <li>
        <dd data-dl-uid="707" data-dl-original="true" data-dl-translated="true">CRTコントローラー</dd>
      </li>
      <li><dd data-dl-uid="708" data-dl-original="true" data-dl-translated="true">シーケンサー</dd></li>
      <li>
        <dd data-dl-uid="709" data-dl-original="true" data-dl-translated="true">
          グラフィックコントローラ
        </dd>
      </li>
      <li><dd data-dl-uid="710" data-dl-original="true" data-dl-translated="true">ラムダック</dd></li>
      <li><dd data-dl-uid="711" data-dl-original="true" data-dl-translated="true">ビデオメモリ</dd></li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="712"
          data-dl-original="true"
          data-dl-translated="true"
        >
          アトリビュートコントローラ
        </dd>
      </li>
    </ol>
    <p class="western" data-dl-uid="713" data-dl-original="true" data-dl-translated="true">
      すべてのハードウェアレジスタはI/Oポート空間にマッピングされています。つまり、<span
        style="font-weight: normal"
        data-dl-uid="717"
        data-dl-original="true"
        data-dl-translated="true"
        >CPU命令の
      </span>
      <span
        style="font-weight: normal"
        data-dl-uid="715"
        data-dl-original="true"
        data-dl-translated="true"
        >インと</span
      ><b data-dl-uid="716" data-dl-original="true" data-dl-translated="true">アウトの</b>
      <span data-dl-uid="717" data-dl-translated="true">ファミリーを </span
      >使用してアクセスすることができます。<span data-dl-uid="717" data-dl-translated="true"
        >ほとんどのコントローラは </span
      >、<span
        style="font-weight: normal"
        data-dl-uid="719"
        data-dl-original="true"
        data-dl-translated="true"
        >アドレスレジスタと </span
      ><b data-dl-uid="720" data-dl-original="true" data-dl-translated="true">データレジスタ</b>の<span
        data-dl-uid="717"
        data-dl-translated="true"
        >2つのレジスタをマッピングして </span
      ><span
        style="font-weight: normal"
        data-dl-uid="721"
        data-dl-original="true"
        data-dl-translated="true"
        >います </span
      >。<span
        style="font-weight: normal"
        data-dl-uid="723"
        data-dl-original="true"
        data-dl-translated="true"
        >アドレスレジスタには </span
      >、<span
        style="font-weight: normal"
        data-dl-uid="725"
        data-dl-original="true"
        data-dl-translated="true"
        >読み書きしたい特定のレジスタの </span
      ><b data-dl-uid="724" data-dl-original="true" data-dl-translated="true">インデックスが</b>
      <span data-dl-uid="723" data-dl-translated="true">格納 </span>さ<span
        data-dl-uid="725"
        data-dl-translated="true"
        >れ、 </span
      ><b data-dl-uid="726" data-dl-original="true" data-dl-translated="true">データ</b>
      <span
        style="font-weight: normal"
        data-dl-uid="727"
        data-dl-original="true"
        data-dl-translated="true"
        >レジスタには、そのレジスタの</span
      >データが格納されます。<span data-dl-uid="727" data-dl-translated="true"
        >このことは、いくつかの例を見ていくと、より明確になるかもしれません。</span
      >
    </p>
    <p class="western" data-dl-uid="728" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="729"
        data-dl-original="true"
        data-dl-translated="true"
        >これらの各コンポーネントを見る前に、VGAハードウェアの複雑さを強調しておきたいと思います。VGAを深くカバーする書籍が一冊まるごと書かれており、1つの記事ですべての詳細をカバーすることは非常に困難な作業です。そこで、ここでは、各コンポーネントが行うことと、そのコンポーネントが使用するレジスタのセットについてのみ、最小限の議論にとどめることにします。レジスタの数が多いので、ここではレジスタの説明は省略します。残念ながら、ハードウェアレジスタの背景がわからないと、ビデオモードの設定方法を説明することができません。これを是正するために、すべてのレジスタのリストを提示し、最後にビデオモードの設定の表を記載します。 </span
      >これにより、<b data-dl-uid="730" data-dl-original="true" data-dl-translated="true"
        >読者は各レジスタの詳細や形式を気にすることなく、VGAビデオモードを設定</b
      >することができます<span
        style="font-weight: normal"
        data-dl-uid="731"
        data-dl-original="true"
        data-dl-translated="true"
        >。しかし、VGAについてもっと知りたいと思う人には、[3]や[4]を参照して、各レジスタについてもっと読むことをお勧めします。</span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="732"
      data-dl-original="true"
      data-dl-translated="true"
    >
      要するに、レジスタの詳細についてはあまり気にしないでください。どのレジスタにどの値を入れるかは、ビデオモードリストが教えてくれます。
    </p>
    <h4 data-dl-uid="733" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="734" data-dl-original="true" data-dl-translated="true"
        >CRTコントローラー（CRTC）</b
      >
    </h4>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="33*" />
        <col width="223*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_4191c4bd.gif"
                name="graphics2"
                align="BOTTOM"
                width="16"
                height="16"
                border="0"
              />
              <b>Warning.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="font-weight: normal"
              data-dl-uid="738"
              data-dl-original="true"
              data-dl-translated="true"
            >
              <b data-dl-uid="739" data-dl-original="true" data-dl-translated="true"
                >CRTコントローラー（CRTC）の設定が不適切な場合、ビデオカードや接続されたモニターに損傷を与える可能</b
              >性があります。まれにですが、不適切な設定によりCRTやLCDモニターが焼損・爆発する事例があることが知られています。
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="740" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="742" data-dl-original="true" data-dl-translated="true">CRTコントローラ（CRTC</b>
      <span
        style="font-weight: normal"
        data-dl-uid="741"
        data-dl-original="true"
        data-dl-translated="true"
        >）は </span
      >、<span
        style="font-weight: normal"
        data-dl-uid="743"
        data-dl-original="true"
        data-dl-translated="true"
        >ディスプレイモニタへのビデオデータの出力を制御 </span
      >する役割を担っています。<span data-dl-uid="743" data-dl-translated="true"
        >アドレス・レジスタとデータ・レジスタでアクセスします。 </span
      ><b data-dl-uid="744" data-dl-original="true" data-dl-translated="true"
        >アドレス・レジスタは3D4hに、データ・レジスタは3D5hにあります(Miscellaneous Output Register I/O
        Address selectフィールドが設定されている場合は、それぞれ3B4h、3B5hになります。)。</b
      >
      <span
        style="font-weight: normal"
        data-dl-uid="745"
        data-dl-original="true"
        data-dl-translated="true"
        >アドレス・レジスタでアクセスしたいCRTCレジスタを選択し、データ・レジスタでそのCRTCレジスタからの読み出しまたは書き込みを行います。</span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="746"
      data-dl-original="true"
      data-dl-translated="true"
    >
      レジスタの数が多いので、各レジスタの完全な技術的レビューは行いません。CRTレジスタの詳細については、FreeVGAプロジェクトの専用ページで解説していますので、そちらを参照してください。もし需要があれば、将来的にVGAに関するトピックを拡張する可能性があります。
    </p>

    <table width="740" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="53" />
        <col width="669" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western" data-dl-uid="747" data-dl-original="true" data-dl-translated="true">0</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="748" data-dl-original="true" data-dl-translated="true">
              水平方向の総レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="1" sdnum="1033;">
            <p class="western" data-dl-uid="749" data-dl-original="true" data-dl-translated="true">1</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="750" data-dl-original="true" data-dl-translated="true">
              エンド ホリゾンタル ディスプレイ レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="2" sdnum="1033;">
            <p class="western" data-dl-uid="751" data-dl-original="true" data-dl-translated="true">2</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="752" data-dl-original="true" data-dl-translated="true">
              水平ブランキングレジスタの開始
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="3" sdnum="1033;">
            <p class="western" data-dl-uid="753" data-dl-original="true" data-dl-translated="true">3</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="754" data-dl-original="true" data-dl-translated="true">
              水平ブランキングレジスタの終了
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western" data-dl-uid="755" data-dl-original="true" data-dl-translated="true">4</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="756" data-dl-original="true" data-dl-translated="true">
              水平リトレース開始レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="5" sdnum="1033;">
            <p class="western" data-dl-uid="757" data-dl-original="true" data-dl-translated="true">5</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="758" data-dl-original="true" data-dl-translated="true">
              水平リトレース終了レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="6" sdnum="1033;">
            <p class="western" data-dl-uid="759" data-dl-original="true" data-dl-translated="true">6</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="760" data-dl-original="true" data-dl-translated="true">
              垂直方向の総レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="7" sdnum="1033;">
            <p class="western" data-dl-uid="761" data-dl-original="true" data-dl-translated="true">7</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="762" data-dl-original="true" data-dl-translated="true">
              オーバーフローレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western" data-dl-uid="763" data-dl-original="true" data-dl-translated="true">8</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="764" data-dl-original="true" data-dl-translated="true">
              プリセット行走査線レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="9" sdnum="1033;">
            <p class="western" data-dl-uid="765" data-dl-original="true" data-dl-translated="true">9</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="766" data-dl-original="true" data-dl-translated="true">
              最大走査線数レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western" data-dl-uid="767" data-dl-original="true" data-dl-translated="true">10</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="768" data-dl-original="true" data-dl-translated="true">
              カーソル開始レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="11" sdnum="1033;">
            <p class="western" data-dl-uid="769" data-dl-original="true" data-dl-translated="true">11</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="770" data-dl-original="true" data-dl-translated="true">
              カーソル終了レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="12" sdnum="1033;">
            <p class="western" data-dl-uid="771" data-dl-original="true" data-dl-translated="true">12</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="772" data-dl-original="true" data-dl-translated="true">
              スタートアドレスハイレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="13" sdnum="1033;">
            <p class="western" data-dl-uid="773" data-dl-original="true" data-dl-translated="true">13</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="774" data-dl-original="true" data-dl-translated="true">
              スタートアドレスLowレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="14" sdnum="1033;">
            <p class="western" data-dl-uid="775" data-dl-original="true" data-dl-translated="true">14</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="776" data-dl-original="true" data-dl-translated="true">
              カーソル位置上位レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="15" sdnum="1033;">
            <p class="western" data-dl-uid="777" data-dl-original="true" data-dl-translated="true">15</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="778" data-dl-original="true" data-dl-translated="true">
              カーソル位置ローレジ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="16" sdnum="1033;">
            <p class="western" data-dl-uid="779" data-dl-original="true" data-dl-translated="true">16</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="780" data-dl-original="true" data-dl-translated="true">
              垂直リトレース開始レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="17" sdnum="1033;">
            <p class="western" data-dl-uid="781" data-dl-original="true" data-dl-translated="true">17</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="782" data-dl-original="true" data-dl-translated="true">
              垂直リトレース終了レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="18" sdnum="1033;">
            <p class="western" data-dl-uid="783" data-dl-original="true" data-dl-translated="true">18</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="784" data-dl-original="true" data-dl-translated="true">
              垂直方向表示終了レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="19" sdnum="1033;">
            <p class="western" data-dl-uid="785" data-dl-original="true" data-dl-translated="true">19</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="786" data-dl-original="true" data-dl-translated="true">
              オフセット・レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="20" sdnum="1033;">
            <p class="western" data-dl-uid="787" data-dl-original="true" data-dl-translated="true">20</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="788" data-dl-original="true" data-dl-translated="true">
              アンダーライン位置レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="21" sdnum="1033;">
            <p class="western" data-dl-uid="789" data-dl-original="true" data-dl-translated="true">21</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="790" data-dl-original="true" data-dl-translated="true">
              垂直ブランキングレジスタの開始
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="22" sdnum="1033;">
            <p class="western" data-dl-uid="791" data-dl-original="true" data-dl-translated="true">22</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="792" data-dl-original="true" data-dl-translated="true">
              垂直ブランキングレジスタの終了
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="23" sdnum="1033;">
            <p class="western" data-dl-uid="793" data-dl-original="true" data-dl-translated="true">23</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="794" data-dl-original="true" data-dl-translated="true">
              CRTCモード制御レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="24" sdnum="1033;">
            <p class="western" data-dl-uid="795" data-dl-original="true" data-dl-translated="true">24</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="796" data-dl-original="true" data-dl-translated="true">
              ラインコンペアレジスタ
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="797"
      data-dl-original="true"
      data-dl-translated="true"
    >
      CRTCレジスタは、ディスプレイの水平および垂直リトレースとブランキング期間のピクセルクロックのタイミングを制御することができます。これらのタイミングは、ディスプレイの出力（<b
        data-dl-uid="798"
        data-dl-original="true"
        data-dl-translated="true"
        >ビデオ解像度</b
      >）と<b data-dl-uid="799" data-dl-original="true" data-dl-translated="true"
        >リフレッシュ・レートを</b
      >制御するのに役立ちます。また、CRTCの<b
        data-dl-uid="804"
        data-dl-original="true"
        data-dl-translated="true"
        >モード制御</b
      >レジスタは、CRT本体と一部のアドレッシング・モードを制御するためのものです。
    </p>
    <h3 class="western" data-dl-uid="805" data-dl-original="true" data-dl-translated="true">
      グラフィックコントローラ
    </h3>
    <p class="western" data-dl-uid="806" data-dl-original="true" data-dl-translated="true">
      グラフィックス・コントローラは、CPUとビデオ・メモリ間のインターフェイスを管理する役割を担っています。<b
        data-dl-uid="807"
        data-dl-original="true"
        data-dl-translated="true"
        >アドレスレジスタは3CEhに、データレジスタは3CFhにマッピング</b
      >されています。
      グラフィックスコントローラのレジスタにアクセスするには、アドレスレジスタにレジスタのインデックスを書き込み、データレジスタからリードまたはライトしてください。
    </p>
    <p class="western" data-dl-uid="808" data-dl-original="true" data-dl-translated="true">
      以下は標準的なレジスタの一覧ですが、各レジスタの詳細についてはFreeVGAプロジェクトを参照してください。
    </p>

    <table width="740" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="53" />
        <col width="669" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western" data-dl-uid="809" data-dl-original="true" data-dl-translated="true">0</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="810" data-dl-original="true" data-dl-translated="true">
              セット／リセット・レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="1" sdnum="1033;">
            <p class="western" data-dl-uid="811" data-dl-original="true" data-dl-translated="true">1</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="812" data-dl-original="true" data-dl-translated="true">
              イネーブルセット/リセットレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="2" sdnum="1033;">
            <p class="western" data-dl-uid="813" data-dl-original="true" data-dl-translated="true">2</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="814" data-dl-original="true" data-dl-translated="true">
              カラーコンペアレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="3" sdnum="1033;">
            <p class="western" data-dl-uid="815" data-dl-original="true" data-dl-translated="true">3</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="816" data-dl-original="true" data-dl-translated="true">
              データローテートレジスター
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western" data-dl-uid="817" data-dl-original="true" data-dl-translated="true">4</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="818" data-dl-original="true" data-dl-translated="true">
              読み出しマップ選択レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="5" sdnum="1033;">
            <p class="western" data-dl-uid="819" data-dl-original="true" data-dl-translated="true">5</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="820" data-dl-original="true" data-dl-translated="true">
              グラフィックモードレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="6" sdnum="1033;">
            <p class="western" data-dl-uid="821" data-dl-original="true" data-dl-translated="true">6</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="822" data-dl-original="true" data-dl-translated="true">
              雑多なグラフィックス・レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="7" sdnum="1033;">
            <p class="western" data-dl-uid="823" data-dl-original="true" data-dl-translated="true">7</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="824" data-dl-original="true" data-dl-translated="true">
              カラードントケアレジスター
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western" data-dl-uid="825" data-dl-original="true" data-dl-translated="true">8</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="826" data-dl-original="true" data-dl-translated="true">
              ビットマスクレジスタ
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="827" data-dl-original="true" data-dl-translated="true">
      シーケンサー
    </h3>
    <p class="western" data-dl-uid="828" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="829"
        data-dl-original="true"
        data-dl-translated="true"
        >シーケンサは、ビデオデータとRAMDACの間のインターフェイスを管理します。 </span
      ><b data-dl-uid="830" data-dl-original="true" data-dl-translated="true"
        >アドレス・レジスタは3C4hに、データ・レジスタは3C5hにマッピング</b
      >されています。シーケンサのレジスタにアクセスするには、アドレス・レジスタにレジスタのインデックスを書き込み、データ・レジスタからリードまたはライトしてください。
    </p>
    <p class="western" data-dl-uid="831" data-dl-original="true" data-dl-translated="true">
      以下は標準的なレジスタの一覧ですが、各レジスタの詳細についてはFreeVGAプロジェクトを参照してください。
    </p>

    <table width="740" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="53" />
        <col width="669" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western" data-dl-uid="832" data-dl-original="true" data-dl-translated="true">0</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="833" data-dl-original="true" data-dl-translated="true">
              リセット・レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="1" sdnum="1033;">
            <p class="western" data-dl-uid="834" data-dl-original="true" data-dl-translated="true">1</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="835" data-dl-original="true" data-dl-translated="true">
              クロッキングモードレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="2" sdnum="1033;">
            <p class="western" data-dl-uid="836" data-dl-original="true" data-dl-translated="true">2</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="837" data-dl-original="true" data-dl-translated="true">
              マップマスクレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="3" sdnum="1033;">
            <p class="western" data-dl-uid="838" data-dl-original="true" data-dl-translated="true">3</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="839" data-dl-original="true" data-dl-translated="true">
              キャラクタ・マップ・レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western" data-dl-uid="840" data-dl-original="true" data-dl-translated="true">4</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="841" data-dl-original="true" data-dl-translated="true">
              シーケンサメモリモードレジスタ
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="842" data-dl-original="true" data-dl-translated="true">
      アトリビュートコントローラ
    </h3>
    <p class="western" data-dl-uid="843" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="844"
        data-dl-original="true"
        data-dl-translated="true"
        >アトリビュート・コントローラは、VGA用の21個のレジスタで構成されています。このコントローラは </span
      >、<b data-dl-uid="845" data-dl-original="true" data-dl-translated="true">3C0</b
      ><span
        style="font-weight: normal"
        data-dl-uid="846"
        data-dl-original="true"
        data-dl-translated="true"
        >hと </span
      ><b data-dl-uid="847" data-dl-original="true" data-dl-translated="true">3C1hの</b
      ><span data-dl-uid="844" data-dl-translated="true"
        >2つのレジスタをI/Oポート空間にマッピングして </span
      >います<span
        style="font-weight: normal"
        data-dl-uid="848"
        data-dl-original="true"
        data-dl-translated="true"
        >。 他のコントローラと異なり </span
      >、<b data-dl-uid="849" data-dl-original="true" data-dl-translated="true"
        >アトリビュートコントローラは、3C0hのレジスタをデータ書き込みポートおよびアドレスポートとして使用</b
      >します<span
        style="font-weight: normal"
        data-dl-uid="850"
        data-dl-original="true"
        data-dl-translated="true"
        >。</span
      ><b data-dl-uid="851" data-dl-original="true" data-dl-translated="true"
        >3C1hのレジスタはデータ読み込みレジスタ</b
      >です。<span
        style="font-weight: normal"
        data-dl-uid="852"
        data-dl-original="true"
        data-dl-translated="true"
      >
        アトリビュートコントローラと通信 </span
      >するには、<b data-dl-uid="853" data-dl-original="true" data-dl-translated="true"
        >ソフトウェアはまずポート3C0hにレジスタアドレスを書き込み、その次にそのレジスタへデータを書き込む必要が</b
      >あります<span
        style="font-weight: normal"
        data-dl-uid="854"
        data-dl-original="true"
        data-dl-translated="true"
        >。</span
      ><b data-dl-uid="855" data-dl-original="true" data-dl-translated="true"
        >データの読み込みにはポート3C0hへ書き、3C1hから読み込みを</b
      >行うことが可能です<span
        style="font-weight: normal"
        data-dl-uid="856"
        data-dl-original="true"
        data-dl-translated="true"
        >。アトリビュート・アドレス・レジスタも特定のフォーマットを持っています。</span
      >
    </p>

    <table width="328" border="1" cellpadding="4" cellspacing="0">
      <colgroup>
        <col width="34" />
        <col width="33" />
        <col width="35" />
        <col width="36" />
        <col width="36" />
        <col width="32" />
        <col width="33" />
        <col width="21" />
      </colgroup>
      <tbody>
        <tr>
          <td colspan="8" width="318" valign="TOP" bgcolor="#cccccc">
            <p class="western">Attribute Address Register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="34" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="33" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="35" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="36" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="36" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="32" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="33" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="21" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td colspan="2" width="75">
            <p class="western"><br /></p>
          </td>
          <td width="35">
            <p class="western">PAS</p>
          </td>
          <td colspan="5" width="191">
            <p class="western" align="CENTER">Address</p>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="868" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="869" data-dl-original="true" data-dl-translated="true">アドレスとは</b>、<span
        style="font-weight: normal"
        data-dl-uid="870"
        data-dl-original="true"
        data-dl-translated="true"
        >アクセスするレジスタのインデックスの</span
      >ことです。<span data-dl-uid="870" data-dl-translated="true"
        >以下のレジスタの表を参照してください。</span
      >
    </p>
    <p class="western" data-dl-uid="871" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="872" data-dl-original="true" data-dl-translated="true"
        >PAS (Palette Address Source)</b
      >
      <span
        style="font-weight: normal"
        data-dl-uid="873"
        data-dl-original="true"
        data-dl-translated="true"
        >ホストまたはEGAディスプレイ・アダプタによるパレット・データへのアクセスを決定</span
      >します。<span data-dl-uid="873" data-dl-translated="true"
        >0の場合、ホストはパレットRAMにアクセスでき、アダプタはディスプレイメモリのパレットへのアクセスを禁止します。1の場合、ディスプレイ・メモリはパレットRAMにアクセスでき、ホストはパレットへのアクセスを禁止されます。</span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="874"
      data-dl-original="true"
      data-dl-translated="true"
    >
      アトリビュートコントローラは、カラーインデックスと色を対応させる16個のパレットレジスタのセットを格納する。この小さなパレットは、EGAからの欠点である。VGAはまだこれらのレジスタを使用しますが、パレット情報を格納する代わりに、カラーインデックスレジスタの2番目のセットにアドレスを格納します。ここでは、その仕組みの詳細については説明しませんが、興味のある方は
      [4] ページの 394 を読んでみてください。
    </p>
    <p class="western" data-dl-uid="875" data-dl-original="true" data-dl-translated="true">
      以下に標準的なレジスタの一覧を示しますが、各レジスタの詳細については、FreeVGAプロジェクトまたは[4]を参照してください。
    </p>

    <table width="740" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="53" />
        <col width="669" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc">
            <p class="western" data-dl-uid="876" data-dl-original="true" data-dl-translated="true">
              0-15
            </p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="877" data-dl-original="true" data-dl-translated="true">
              パレット入力レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="16" sdnum="1033;">
            <p class="western" data-dl-uid="878" data-dl-original="true" data-dl-translated="true">16</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="879" data-dl-original="true" data-dl-translated="true">
              モード制御レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western" data-dl-uid="880" data-dl-original="true" data-dl-translated="true">17</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="881" data-dl-original="true" data-dl-translated="true">
              オーバースキャン・カラー・レジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="18" sdnum="1033;">
            <p class="western" data-dl-uid="882" data-dl-original="true" data-dl-translated="true">18</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="883" data-dl-original="true" data-dl-translated="true">
              カラープレーンイネーブルレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" bgcolor="#cccccc" sdval="19" sdnum="1033;">
            <p class="western" data-dl-uid="884" data-dl-original="true" data-dl-translated="true">19</p>
          </td>
          <td width="669" bgcolor="#cccccc">
            <p class="western" data-dl-uid="885" data-dl-original="true" data-dl-translated="true">
              水平画素パンニングレジスタ
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="53" sdval="20" sdnum="1033;">
            <p class="western" data-dl-uid="886" data-dl-original="true" data-dl-translated="true">20</p>
          </td>
          <td width="669">
            <p class="western" data-dl-uid="887" data-dl-original="true" data-dl-translated="true">
              カラーセレクトレジスタ
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="888" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="889" data-dl-original="true" data-dl-translated="true"
        >一般レジスタ／外部レジスタ</b
      >
    </h3>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="890"
      data-dl-original="true"
      data-dl-translated="true"
    >
      このようなレジスタのリストには終わりがありませんね。これまで、VGAの主要なコントローラのレジスタのリストを見てきましたが、ビデオモードで使用される汎用レジスタや雑多なデータ用のレジスタのセットもあり、見ておく必要があります。これらのレジスタは、<b
        data-dl-uid="891"
        data-dl-original="true"
        data-dl-translated="true"
        >一般レジスタ</b
      >または<b data-dl-uid="892" data-dl-original="true" data-dl-translated="true">外部レジスタと</b
      >呼ばれます。
    </p>
    <p class="western" data-dl-uid="893" data-dl-original="true" data-dl-translated="true">
      以下に標準的なレジスタの一覧を示しますが、各レジスタの詳細については、FreeVGAプロジェクトまたは[4]を参照してください。<b
        data-dl-uid="894"
        data-dl-original="true"
        data-dl-translated="true"
        >なお、ここではカラーアダプタとVGA（EGAではない）を想定しています。</b
      >
      <span
        style="font-weight: normal"
        data-dl-uid="895"
        data-dl-original="true"
        data-dl-translated="true"
        >モノクロアダプタとEGAアダプタでは、異なるポートを使用する場合があります。</span
      >
    </p>

    <table width="740" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="128" />
        <col width="594" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="128" bgcolor="#cccccc">
            <p class="western">Write port: 3C2h Read port: 3CCh</p>
          </td>
          <td width="594" bgcolor="#cccccc">
            <p class="western">Miscellaneous output register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="128">
            <p class="western">Write port: 3BAh Read port: 3CAh</p>
          </td>
          <td width="594">
            <p class="western">Feature control register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="128" bgcolor="#cccccc">
            <p class="western">Read port: 3C2h</p>
          </td>
          <td width="594" bgcolor="#cccccc">
            <p class="western">Input Status #0 register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="128">
            <p class="western">Read port: 3BAh</p>
          </td>
          <td width="594">
            <p class="western">Input Status #1 register</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="904" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="905" data-dl-original="true" data-dl-translated="true">カラーレジスタ</b>
    </h3>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="906"
      data-dl-original="true"
      data-dl-translated="true"
    >
      これらのレジスタは、ソフトウェアが256色パレットを操作し、管理するためのものです。256色モードで作業する場合、これらのレジスタは重要なセットであり、ビデオモードの設定後に使用されることがあるので、よく理解しておくとよいでしょう。また、このレジスタは、これから見ていく最後のレジスタセットであることも知っておくとよいでしょう。
    </p>
    <p class="western" data-dl-uid="907" data-dl-original="true" data-dl-translated="true">
      以下に標準的なレジスタの一覧を示しますが、各レジスタの詳細については、FreeVGAプロジェクトまたは[4]を参照してください。
    </p>

    <table width="740" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="128" />
        <col width="594" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="128" bgcolor="#cccccc">
            <p class="western">Write port: 3C8h Read port: 3C8h</p>
          </td>
          <td width="594" bgcolor="#cccccc">
            <p class="western">PEL address write mode register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="128">
            <p class="western">Write port: 3C7h</p>
          </td>
          <td width="594">
            <p class="western">PEL address read mode register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="128" bgcolor="#cccccc">
            <p class="western">Write port: 3C9h Read port: 3C9h</p>
          </td>
          <td width="594" bgcolor="#cccccc">
            <p class="western">PEL data register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="128">
            <p class="western">Read port: 3C7h</p>
          </td>
          <td width="594">
            <p class="western">DAC state register</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="128" bgcolor="#cccccc">
            <p class="western">Write port: 3C6h Read port: 3C6h</p>
          </td>
          <td width="594" bgcolor="#cccccc">
            <p class="western">PEL mask register</p>
          </td>
        </tr>
      </tbody>
    </table>

    <h2 class="western" data-dl-uid="918" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="919" data-dl-original="true" data-dl-translated="true">2.4.標準的なビデオモード</b>
    </h2>
    <p class="western" data-dl-uid="920" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="921"
        data-dl-original="true"
        data-dl-translated="true"
        >ビデオハードウェアを設定することで、異なるプロパティを持つ表示モードを定義することができます。しかし、ビデオハードウェアがサポートする多くのモードは、多くのモニタがサポートしていません。他の構成は、望ましくない効果を持つ可能性があります。いくつかのVGAモード設定は、ほとんどのモニターでサポートされているため、標準となっています。以下は、標準的なビデオモードとその設定の一覧です。 </span
      ><b data-dl-uid="922" data-dl-original="true" data-dl-translated="true"
        >標準のビデオモード番号は、Mode 0h、1h、2h、3h、4h、5h、7h、Dh、Eh、Fh、10h、11h、12h、13h</b
      >です<span
        style="font-weight: normal"
        data-dl-uid="923"
        data-dl-original="true"
        data-dl-translated="true"
        >。</span
      >
      <b data-dl-uid="924" data-dl-original="true" data-dl-translated="true">Mode</b>
      <span
        style="font-weight: normal"
        data-dl-uid="925"
        data-dl-original="true"
        data-dl-translated="true"
        >Xや </span
      ><b data-dl-uid="926" data-dl-original="true" data-dl-translated="true">Mode Qは</b>
      <span
        style="font-weight: normal"
        data-dl-uid="927"
        data-dl-original="true"
        data-dl-translated="true"
        >よくサポートされていますが、標準モードでは</span
      >ありません。
    </p>
    <p class="western" data-dl-uid="928" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="929"
        data-dl-original="true"
        data-dl-translated="true"
        >その他のリストについては[3]または[4]を参照してください。以下の表は、[4]の304-305ページから採用しました。表は、各モードが変更するレジスタの異なるセットで分割されています。一番上の行はモード番号、左の列は特定のレジスタにアクセスするためのインデックスを表しています。4]によると、提示された値は </span
      >、<span
        style="font-weight: normal"
        data-dl-uid="931"
        data-dl-original="true"
        data-dl-translated="true"
        >標準的なビデオBIOSが使用する</span
      ><b data-dl-uid="930" data-dl-original="true" data-dl-translated="true">初期モード状態を</b>
      <span data-dl-uid="929" data-dl-translated="true">表して </span>います。
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="932"
      data-dl-original="true"
      data-dl-translated="true"
    >
      ビデオモードを設定するには、ソフトウェアがビデオ出力を無効にして、関連する値を変更するすべてのハードウェアレジスタに書き込む必要があります。
      これにより、読み取り/書き込みモード、アドレス開始、水平/垂直ブランキング期間とタイミング、リフレッシュレート、解像度、グラフィックスモードタイプなど、すべてが設定されます。
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="933"
      data-dl-original="true"
      data-dl-translated="true"
    >
      以下の表は、正確を期して作成したものであるが、発見されていない誤りがある可能性がある。表は[4]で発表されたものと一致するように書かれたが、書き直しの際に誤りがある可能性がある。原著者に謝意を表する。
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="934"
      data-dl-original="true"
      data-dl-translated="true"
    >
      一般レジスタ
    </p>

    <table width="616" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="65" />
        <col width="22" />
        <col width="25" />
        <col width="26" />
        <col width="28" />
        <col width="22" />
        <col width="26" />
        <col width="25" />
        <col width="33" />
        <col width="36" />
        <col width="24" />
        <col width="29" />
        <col width="31" />
        <col width="28" />
        <col width="25" />
        <col width="41" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6ff">
            <p class="western"><br /></p>
          </td>
          <td colspan="15" width="533" bgcolor="#e6e6e6">
            <p class="western">Mode</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western">Index</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="26" bgcolor="#e6e6e6" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#e6e6e6" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="33" bgcolor="#e6e6e6" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="36" bgcolor="#e6e6e6">
            <p class="western">D</p>
          </td>
          <td width="24" bgcolor="#e6e6e6">
            <p class="western">E</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">F</p>
          </td>
          <td width="31" bgcolor="#e6e6e6" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="41" bgcolor="#e6e6e6" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="25" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="26" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="28" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="22" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="26" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="25" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="33">
            <p class="western">A6</p>
          </td>
          <td width="36" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="24" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="29">
            <p class="western">A2</p>
          </td>
          <td width="31">
            <p class="western">A3</p>
          </td>
          <td width="28">
            <p class="western">E3</p>
          </td>
          <td width="25">
            <p class="western">E3</p>
          </td>
          <td width="41" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="36" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="24" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="22" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="25" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="26" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="28" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="22" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="26" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="25" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="33" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="36" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="24" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="29" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="31" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="28" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="25" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
          <td width="41" sdval="70" sdnum="1033;">
            <p class="western">70</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="36" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="24" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="western" style="font-weight: normal">シーケンスレジスタ</p>
    <table width="616" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="65" />
        <col width="22" />
        <col width="23" />
        <col width="28" />
        <col width="28" />
        <col width="22" />
        <col width="26" />
        <col width="25" />
        <col width="33" />
        <col width="36" />
        <col width="24" />
        <col width="29" />
        <col width="31" />
        <col width="28" />
        <col width="25" />
        <col width="41" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western"><br /></p>
          </td>
          <td colspan="15" width="533" bgcolor="#e6e6e6">
            <p class="western">Mode</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western">Index</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#e6e6e6" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#e6e6e6" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="33" bgcolor="#e6e6e6" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="36" bgcolor="#e6e6e6">
            <p class="western">D</p>
          </td>
          <td width="24" bgcolor="#e6e6e6">
            <p class="western">E</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">F</p>
          </td>
          <td width="31" bgcolor="#e6e6e6" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="41" bgcolor="#e6e6e6" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="23" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="26" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="25" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="33" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="36" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="24" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="29" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="31" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="25" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="41" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="36" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="24" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="22" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="23" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="26" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="25" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="33" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="36">
            <p class="western">F</p>
          </td>
          <td width="24">
            <p class="western">F</p>
          </td>
          <td width="29">
            <p class="western">F</p>
          </td>
          <td width="31">
            <p class="western">F</p>
          </td>
          <td width="28">
            <p class="western">F</p>
          </td>
          <td width="25">
            <p class="western">F</p>
          </td>
          <td width="41">
            <p class="western">F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="36" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="24" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="22" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="23" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="22" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="26" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="25" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="33" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="36" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="24" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="29" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="31" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="28" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="25" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="41">
            <p class="western">E</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="western" style="font-weight: normal">CRTCレジスター</p>
    <table width="616" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="65" />
        <col width="22" />
        <col width="23" />
        <col width="28" />
        <col width="28" />
        <col width="22" />
        <col width="26" />
        <col width="25" />
        <col width="33" />
        <col width="29" />
        <col width="31" />
        <col width="29" />
        <col width="31" />
        <col width="28" />
        <col width="25" />
        <col width="41" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western"><br /></p>
          </td>
          <td colspan="15" width="533" bgcolor="#e6e6e6">
            <p class="western">Mode</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western">Index</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#e6e6e6" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#e6e6e6" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="33" bgcolor="#e6e6e6" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">D</p>
          </td>
          <td width="31" bgcolor="#e6e6e6">
            <p class="western">E</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">F</p>
          </td>
          <td width="31" bgcolor="#e6e6e6" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="41" bgcolor="#e6e6e6" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22">
            <p class="western">2D</p>
          </td>
          <td width="23">
            <p class="western">2D</p>
          </td>
          <td width="28">
            <p class="western">5F</p>
          </td>
          <td width="28">
            <p class="western">5F</p>
          </td>
          <td width="22">
            <p class="western">2D</p>
          </td>
          <td width="26">
            <p class="western">2D</p>
          </td>
          <td width="25">
            <p class="western">5F</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">2D</p>
          </td>
          <td width="31">
            <p class="western">5F</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">5F</p>
          </td>
          <td width="28">
            <p class="western">5F</p>
          </td>
          <td width="25">
            <p class="western">5F</p>
          </td>
          <td width="41">
            <p class="western">5F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="27" sdnum="1033;">
            <p class="western">27</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="27" sdnum="1033;">
            <p class="western">27</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="27" sdnum="1033;">
            <p class="western">27</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="27" sdnum="1033;">
            <p class="western">27</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="27" sdnum="1033;">
            <p class="western">27</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">4F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="22" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="23" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="28" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
          <td width="28" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
          <td width="22" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="26" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="25" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="31" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
          <td width="28" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
          <td width="25" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
          <td width="41" sdval="50" sdnum="1033;">
            <p class="western">50</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="90" sdnum="1033;">
            <p class="western">90</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="90" sdnum="1033;">
            <p class="western">90</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="90" sdnum="1033;">
            <p class="western">90</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="90" sdnum="1033;">
            <p class="western">90</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="90" sdnum="1033;">
            <p class="western">90</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="82" sdnum="1033;">
            <p class="western">82</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="22">
            <p class="western">2B</p>
          </td>
          <td width="23">
            <p class="western">2B</p>
          </td>
          <td width="28" sdval="55" sdnum="1033;">
            <p class="western">55</p>
          </td>
          <td width="28" sdval="55" sdnum="1033;">
            <p class="western">55</p>
          </td>
          <td width="22">
            <p class="western">2B</p>
          </td>
          <td width="26">
            <p class="western">2B</p>
          </td>
          <td width="25" sdval="54" sdnum="1033;">
            <p class="western">54</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">2B</p>
          </td>
          <td width="31" sdval="54" sdnum="1033;">
            <p class="western">54</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31" sdval="54" sdnum="1033;">
            <p class="western">54</p>
          </td>
          <td width="28" sdval="54" sdnum="1033;">
            <p class="western">54</p>
          </td>
          <td width="25" sdval="54" sdnum="1033;">
            <p class="western">54</p>
          </td>
          <td width="41" sdval="24" sdnum="1033;">
            <p class="western">24</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">A0</p>
          </td>
          <td width="23" bgcolor="#cccccc">
            <p class="western">A0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="81" sdnum="1033;">
            <p class="western">81</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="81" sdnum="1033;">
            <p class="western">81</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="80" sdnum="1033;">
            <p class="western">80</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="22">
            <p class="western">BF</p>
          </td>
          <td width="23">
            <p class="western">BF</p>
          </td>
          <td width="28">
            <p class="western">BF</p>
          </td>
          <td width="28">
            <p class="western">BF</p>
          </td>
          <td width="22">
            <p class="western">BF</p>
          </td>
          <td width="26">
            <p class="western">BF</p>
          </td>
          <td width="25">
            <p class="western">BF</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">BF</p>
          </td>
          <td width="31">
            <p class="western">BF</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">BF</p>
          </td>
          <td width="28">
            <p class="western">B</p>
          </td>
          <td width="25">
            <p class="western">B</p>
          </td>
          <td width="41">
            <p class="western">BF</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="23" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="26" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3E</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">3E</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">1F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">C7</p>
          </td>
          <td width="23" bgcolor="#cccccc">
            <p class="western">C7</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">C7</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">C7</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">C1</p>
          </td>
          <td width="26" bgcolor="#cccccc">
            <p class="western">C1</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">C1</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">C0</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">C0</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="40" sdnum="1033;">
            <p class="western">40</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="40" sdnum="1033;">
            <p class="western">40</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="40" sdnum="1033;">
            <p class="western">40</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="41" sdnum="1033;">
            <p class="western">41</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65">
            <p class="western">A</p>
          </td>
          <td width="22" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="23" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="28" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="28" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc">
            <p class="western">B</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65">
            <p class="western">C</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc">
            <p class="western">D</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65">
            <p class="western">E</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc">
            <p class="western">F</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="31" sdnum="1033;">
            <p class="western">31</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="31" sdnum="1033;">
            <p class="western">31</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="59" sdnum="1033;">
            <p class="western">59</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="59" sdnum="1033;">
            <p class="western">59</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="31" sdnum="1033;">
            <p class="western">31</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="31" sdnum="1033;">
            <p class="western">31</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="59" sdnum="1033;">
            <p class="western">59</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="31" sdnum="1033;">
            <p class="western">31</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="59" sdnum="1033;">
            <p class="western">59</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="59" sdnum="1033;">
            <p class="western">59</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="59" sdnum="1033;">
            <p class="western">59</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="59" sdnum="1033;">
            <p class="western">59</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="31" sdnum="1033;">
            <p class="western">31</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="22">
            <p class="western">9C</p>
          </td>
          <td width="23">
            <p class="western">9C</p>
          </td>
          <td width="28">
            <p class="western">9C</p>
          </td>
          <td width="28">
            <p class="western">9C</p>
          </td>
          <td width="22">
            <p class="western">9C</p>
          </td>
          <td width="26">
            <p class="western">9C</p>
          </td>
          <td width="25">
            <p class="western">9C</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">9C</p>
          </td>
          <td width="31">
            <p class="western">9C</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31" sdval="83" sdnum="1033;">
            <p class="western">83</p>
          </td>
          <td width="28">
            <p class="western">EA</p>
          </td>
          <td width="25">
            <p class="western">EA</p>
          </td>
          <td width="41">
            <p class="western">9C</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="23" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="26" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="85" sdnum="1033;">
            <p class="western">85</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">8C</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">8C</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">8E</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="22">
            <p class="western">8F</p>
          </td>
          <td width="23">
            <p class="western">8F</p>
          </td>
          <td width="28">
            <p class="western">8F</p>
          </td>
          <td width="28">
            <p class="western">8F</p>
          </td>
          <td width="22">
            <p class="western">8F</p>
          </td>
          <td width="26">
            <p class="western">8F</p>
          </td>
          <td width="25">
            <p class="western">8F</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">8F</p>
          </td>
          <td width="31">
            <p class="western">8F</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">5D</p>
          </td>
          <td width="28">
            <p class="western">DF</p>
          </td>
          <td width="25">
            <p class="western">DF</p>
          </td>
          <td width="41">
            <p class="western">8F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="28" sdnum="1033;">
            <p class="western">28</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="22">
            <p class="western">1F</p>
          </td>
          <td width="23">
            <p class="western">1F</p>
          </td>
          <td width="28">
            <p class="western">1F</p>
          </td>
          <td width="28">
            <p class="western">1F</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">F</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="40" sdnum="1033;">
            <p class="western">40</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="63" sdnum="1033;">
            <p class="western">63</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">E7</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">E7</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="96" sdnum="1033;">
            <p class="western">96</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="22">
            <p class="western">B9</p>
          </td>
          <td width="23">
            <p class="western">B9</p>
          </td>
          <td width="28">
            <p class="western">B9</p>
          </td>
          <td width="28">
            <p class="western">B9</p>
          </td>
          <td width="22">
            <p class="western">B9</p>
          </td>
          <td width="26">
            <p class="western">B9</p>
          </td>
          <td width="25">
            <p class="western">B9</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">B9</p>
          </td>
          <td width="31">
            <p class="western">B9</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">BA</p>
          </td>
          <td width="28" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="25" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="41">
            <p class="western">B9</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">A3</p>
          </td>
          <td width="23" bgcolor="#cccccc">
            <p class="western">A3</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">A3</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">A3</p>
          </td>
          <td width="22" bgcolor="#cccccc">
            <p class="western">A2</p>
          </td>
          <td width="26" bgcolor="#cccccc">
            <p class="western">A2</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">C2</p>
          </td>
          <td width="33" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">E3</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">E3</p>
          </td>
          <td width="29" bgcolor="#cccccc">
            <p class="western">FF</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">E3</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">C3</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">E3</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">A3</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="22">
            <p class="western">FF</p>
          </td>
          <td width="23">
            <p class="western">FF</p>
          </td>
          <td width="28">
            <p class="western">FF</p>
          </td>
          <td width="28">
            <p class="western">FF</p>
          </td>
          <td width="22">
            <p class="western">FF</p>
          </td>
          <td width="26">
            <p class="western">FF</p>
          </td>
          <td width="25">
            <p class="western">FF</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">FF</p>
          </td>
          <td width="28">
            <p class="western">FF</p>
          </td>
          <td width="25">
            <p class="western">FF</p>
          </td>
          <td width="41">
            <p class="western">FF</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="western" style="margin-bottom: 0in; font-weight: normal">
      <font color="#000000"
        ><font face="Times New Roman, serif"><font size="3">グラフィックコントローラ</font></font></font
      >
    </p>
    <table width="616" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="65" />
        <col width="22" />
        <col width="23" />
        <col width="28" />
        <col width="28" />
        <col width="22" />
        <col width="26" />
        <col width="25" />
        <col width="33" />
        <col width="29" />
        <col width="31" />
        <col width="29" />
        <col width="31" />
        <col width="28" />
        <col width="25" />
        <col width="41" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western"><br /></p>
          </td>
          <td colspan="15" width="533" bgcolor="#e6e6e6">
            <p class="western">Mode</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western">Index</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#e6e6e6" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#e6e6e6" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="33" bgcolor="#e6e6e6" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">D</p>
          </td>
          <td width="31" bgcolor="#e6e6e6">
            <p class="western">E</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">F</p>
          </td>
          <td width="31" bgcolor="#e6e6e6" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="41" bgcolor="#e6e6e6" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="30" sdnum="1033;">
            <p class="western">30</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="30" sdnum="1033;">
            <p class="western">30</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="40" sdnum="1033;">
            <p class="western">40</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="22">
            <p class="western">0E</p>
          </td>
          <td width="23">
            <p class="western">0E</p>
          </td>
          <td width="28">
            <p class="western">0E</p>
          </td>
          <td width="28">
            <p class="western">0E</p>
          </td>
          <td width="22">
            <p class="western">0F</p>
          </td>
          <td width="26">
            <p class="western">0F</p>
          </td>
          <td width="25">
            <p class="western">0D</p>
          </td>
          <td width="33">
            <p class="western">0A</p>
          </td>
          <td width="29" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="31" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="29" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="31" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="28" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="25" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="41" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">F</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">F</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="22">
            <p class="western">FF</p>
          </td>
          <td width="23">
            <p class="western">FF</p>
          </td>
          <td width="28">
            <p class="western">FF</p>
          </td>
          <td width="28">
            <p class="western">FF</p>
          </td>
          <td width="22">
            <p class="western">FF</p>
          </td>
          <td width="26">
            <p class="western">FF</p>
          </td>
          <td width="25">
            <p class="western">FF</p>
          </td>
          <td width="33">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">FF</p>
          </td>
          <td width="29">
            <p class="western">FF</p>
          </td>
          <td width="31">
            <p class="western">FF</p>
          </td>
          <td width="28">
            <p class="western">FF</p>
          </td>
          <td width="25">
            <p class="western">FF</p>
          </td>
          <td width="41">
            <p class="western">FF</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="western" style="margin-bottom: 0in; font-weight: normal">
      <font color="#000000"
        ><font face="Times New Roman, serif"
          ><font size="3">アトリビュートコントローラ</font></font
        ></font
      >
    </p>
    <table width="616" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="65" />
        <col width="22" />
        <col width="23" />
        <col width="28" />
        <col width="28" />
        <col width="22" />
        <col width="26" />
        <col width="25" />
        <col width="33" />
        <col width="29" />
        <col width="31" />
        <col width="29" />
        <col width="31" />
        <col width="28" />
        <col width="25" />
        <col width="41" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western"><br /></p>
          </td>
          <td colspan="15" width="533" bgcolor="#e6e6e6">
            <p class="western">Mode</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#e6e6e6">
            <p class="western">Index</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#e6e6e6" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#e6e6e6" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#e6e6e6" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="33" bgcolor="#e6e6e6" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">D</p>
          </td>
          <td width="31" bgcolor="#e6e6e6">
            <p class="western">E</p>
          </td>
          <td width="29" bgcolor="#e6e6e6">
            <p class="western">F</p>
          </td>
          <td width="31" bgcolor="#e6e6e6" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" bgcolor="#e6e6e6" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="25" bgcolor="#e6e6e6" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="41" bgcolor="#e6e6e6" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="22" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="23" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="22" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="26" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="25" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="29" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="31" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="28">
            <p class="western">3F</p>
          </td>
          <td width="25" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="41" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="22" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="23" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="28" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="28" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="22" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="26" sdval="2" sdnum="1033;">
            <p class="western">2</p>
          </td>
          <td width="25" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="29" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="31" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="29" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="31" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="28">
            <p class="western">3F</p>
          </td>
          <td width="25" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="41" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="4" sdnum="1033;">
            <p class="western">4</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="22" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="23" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="28" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="28" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="22" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="26" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="25" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="29" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="31" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="28">
            <p class="western">3F</p>
          </td>
          <td width="25" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="41" sdval="6" sdnum="1033;">
            <p class="western">6</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="7" sdnum="1033;">
            <p class="western">7</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="22" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="23" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="28" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="22" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="26" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="25" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="29" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="31" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="38" sdnum="1033;">
            <p class="western">38</p>
          </td>
          <td width="28">
            <p class="western">3F</p>
          </td>
          <td width="25" sdval="38" sdnum="1033;">
            <p class="western">38</p>
          </td>
          <td width="41" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="39" sdnum="1033;">
            <p class="western">39</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="39" sdnum="1033;">
            <p class="western">39</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65">
            <p class="western">A</p>
          </td>
          <td width="22" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="23" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="28" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="28" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="22" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="26" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="25" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="29" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="31" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31">
            <p class="western">3A</p>
          </td>
          <td width="28">
            <p class="western">3F</p>
          </td>
          <td width="25">
            <p class="western">3A</p>
          </td>
          <td width="41">
            <p class="western">0A</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc">
            <p class="western">B</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">3B</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">3B</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">0B</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65">
            <p class="western">C</p>
          </td>
          <td width="22" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="23" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="28" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="28" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="22" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="26" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="25" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="29" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="31" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31">
            <p class="western">3C</p>
          </td>
          <td width="28">
            <p class="western">3F</p>
          </td>
          <td width="25">
            <p class="western">3C</p>
          </td>
          <td width="41">
            <p class="western">0C</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc">
            <p class="western">D</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">3D</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">3D</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">0D</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65">
            <p class="western">E</p>
          </td>
          <td width="22" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="23" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="28" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="28" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="22" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="26" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="25" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="29" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="31" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31">
            <p class="western">3E</p>
          </td>
          <td width="28">
            <p class="western">3F</p>
          </td>
          <td width="25">
            <p class="western">3E</p>
          </td>
          <td width="41">
            <p class="western">0E</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc">
            <p class="western">F</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="18" sdnum="1033;">
            <p class="western">18</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="17" sdnum="1033;">
            <p class="western">17</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="28" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="25" bgcolor="#cccccc">
            <p class="western">3F</p>
          </td>
          <td width="41" bgcolor="#cccccc">
            <p class="western">0F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="22" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="23" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="28" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="28" sdval="8" sdnum="1033;">
            <p class="western">8</p>
          </td>
          <td width="22" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="26" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="25" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="33">
            <p class="western">0E</p>
          </td>
          <td width="29" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="31" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="29">
            <p class="western">0B</p>
          </td>
          <td width="31" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="28" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="25" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="41" sdval="41" sdnum="1033;">
            <p class="western">41</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="22">
            <p class="western">0F</p>
          </td>
          <td width="23">
            <p class="western">0F</p>
          </td>
          <td width="28">
            <p class="western">0F</p>
          </td>
          <td width="28">
            <p class="western">0F</p>
          </td>
          <td width="22" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="26" sdval="3" sdnum="1033;">
            <p class="western">3</p>
          </td>
          <td width="25" sdval="1" sdnum="1033;">
            <p class="western">1</p>
          </td>
          <td width="33">
            <p class="western">0F</p>
          </td>
          <td width="29">
            <p class="western">0F</p>
          </td>
          <td width="31">
            <p class="western">0F</p>
          </td>
          <td width="29" sdval="5" sdnum="1033;">
            <p class="western">5</p>
          </td>
          <td width="31">
            <p class="western">0F</p>
          </td>
          <td width="28">
            <p class="western">0F</p>
          </td>
          <td width="25">
            <p class="western">0F</p>
          </td>
          <td width="41">
            <p class="western">0F</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" bgcolor="#cccccc" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" bgcolor="#cccccc" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="65" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="23" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="22" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="26" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="33" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="29" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="31" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="28" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="25" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
          <td width="41" sdval="0" sdnum="1033;">
            <p class="western">0</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="western" data-dl-uid="2054" data-dl-original="true" data-dl-translated="true">
      ビデオモードを設定するには、上記の表でモードが変更するすべてのレジスタを設定する必要があります。次の例は、モードの設定を説明するものです。
    </p>
    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="32*" />
        <col width="224*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="12%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics13"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="88%">
            <p
              class="western"
              style="
                margin-bottom: 0.2in;
                font-style: normal;
                font-weight: normal;
                text-decoration: none;
              "
            >
              In order to set a video mode, we need to upload all of the values into the registers
              associated with that mode. For example, if we have a function, <b>uploadRegisters</b>, that
              does this, we can set Mode 13h by doing the following.
            </p>
            <pre class="western">
unsigned char _mode13h = {
   /* general registers */
   0x63,0,0x70,0x4,
   /* sequencer */
   0x3,0x1,0xF,0,0xE,
   /* CRTC */
   0x5F,0x4F,0x50,0x82,0x24,0x80,0xBF,0x1F,0,0x41,
   0,0,0,0,0,0x31,0x9C,0x8E,0x8F,0x28,0x40,0x96,0x89,0xA3,0xFF,
   /* graphics */
   0,0,0,0,0,0x40,0x5,0xF,0xFF,
   /* attribute */
   0,1,2,3,4,5,6,7,8,9,0xA,0xB,0xC,0xD,0xE,0xF,0x41,0,0xF,0,0
}

/* set mode 13h */
uploadRegisters (&amp;_mode13);   </pre
            >
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="2061" data-dl-original="true" data-dl-translated="true">
      レジスタ値の書き込み後、ビデオモードの変更に成功しました。
    </p>
    <p class="western">
      <img
        src="graphics2_files/OSDevVid2_html_4db38949.gif"
        name="graphics22"
        align="LEFT"
        width="391"
        height="245"
        border="0"
      /><br clear="LEFT" /><i data-dl-uid="2850" data-dl-original="true" data-dl-translated="true"
        >VGAモード13hで動作するデモとディスプレイメモリのクリアリング</i
      >
    </p>
    <p class="western" data-dl-uid="2851" data-dl-original="true" data-dl-translated="true">
      先ほど、平面メモリモデルを見て、ハードウェアレジスタを見るまで、ピクセルのプロットの例を完成させることができなかったことを思い出してください。今、その例を紹介します。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="32*" />
        <col width="224*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics14"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p class="western" style="margin-bottom: 0.2in; font-weight: normal">
              次のコードは、8ビットピクセルを平面的にプロットするものです。
            </p>
            <pre class="western">
void pixel_p (unsigned char color, unsigned int x, unsigned int y) {

   unsigned int* fb        = (unsigned int*) 0xa0000;
   unsigned int offset     = y * pitch + (x/8);
   bankSwitch (offset &gt;&gt; 16);

   /* writes to bit mask register of graphics controller to select plane */
   outportb(0x3CE,8);
   outportb(0x3CF,0x80 &gt;&gt; (x &amp; 7));
   fb [bankOffset] = color;
}</pre
            >
          </td>
        </tr>
      </tbody>
    </table>

    <h1 class="western" data-dl-uid="2067" data-dl-original="true" data-dl-translated="true">
      3.SuperVGAインターフェース
    </h1>
    <p class="western" data-dl-uid="2068" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="2069" data-dl-original="true" data-dl-translated="true">SuperVGAは</b
      >、SuperVGA（SVGA）を含むディスプレイハードウェアのクラスを指し、通常、XGA、SXGA、SXGA+、UXGA、QXGA、QSXGA、および2560x2048以上の解像度をサポートする他の規格も含まれる。SuperVGAは、VGAのメーカーによる拡張機能として始まり、現在のような個別のSuperVGA規格に採用された。つまり、SuperVGAデバイスを<b
        data-dl-uid="2070"
        data-dl-original="true"
        data-dl-translated="true"
        >包括する規格は</b
      >存在しないのだ。<span
        style="font-weight: normal"
        data-dl-uid="2071"
        data-dl-original="true"
        data-dl-translated="true"
        >すべてのSuperVGAカードは異なっており、異なるハードウェアとファームウェアのインターフェイスを提供します。そこで問題です。SuperVGAの標準的な使い方がないのに、どうやってサポートするのでしょうか。この問題は、ほとんどのメーカーがカードの技術仕様を公開していないという事実によって、さらに深刻になっています。その代わり、彼らはWindowsやLinuxなどの異なるオペレーティングシステム用のブラックボックスドライバを書いている。</span
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="2072"
      data-dl-original="true"
      data-dl-translated="true"
    >
      したがって、SuperVGAのデバイスに対応するためには、2つの選択肢しかありません。
    </p>
    <ol>
      <li>
        <dd data-dl-uid="2073" data-dl-original="true" data-dl-translated="true">
          サポートしたいディスプレイデバイスの種類ごとにデバイスドライバを書く。
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2074"
          data-dl-original="true"
          data-dl-translated="true"
        >
          Vesa Bios Extensions (VBE)を使用する。
        </dd>
      </li>
    </ol>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="2075"
      data-dl-original="true"
      data-dl-translated="true"
    >
      最初の選択肢は、仕様書を入手する必要があるため、困難です。仕様が分からないデバイスはリバースエンジニアリングに頼らざるを得ません。今回取り上げるSuperVGAの「カード」は、Bochsエミュレータで使用されているものです。Bochsを使う人なら誰でも使えるので、これを選びました。しかし、ドライバのコードはBochs固有のものになります。
    </p>
    <p class="western" data-dl-uid="2076" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="2079"
        data-dl-original="true"
        data-dl-translated="true"
        >VBEは、SuperVGAハードウェアのためのBIOS割り込み拡張の標準セット</span
      ><span
        style="font-weight: normal"
        data-dl-uid="2077"
        data-dl-original="true"
        data-dl-translated="true"
        >です </span
      >。<span data-dl-uid="2079" data-dl-translated="true"
        >VBEは非常にシンプルで、SuperVGAを扱うための単一の標準的なインタフェースを作成します。しかし、リアルモードまたはv8086モードが必要で、BIOS割り込みを使用し、拡張機能であるため、すべてのマシンがVBEをサポートしているわけではありません。</span
      >
    </p>
    <h2 class="western" data-dl-uid="2080" data-dl-original="true" data-dl-translated="true">
      3.1.Vesa Bios Extensions (VBE)ファームウェアインタフェース
    </h2>
    <p class="western" data-dl-uid="2081" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="2082" data-dl-original="true" data-dl-translated="true"
        >Vesa Bios Extensions (VBE)</b
      >は<span
        style="font-weight: normal"
        data-dl-uid="2083"
        data-dl-original="true"
        data-dl-translated="true"
        >、SuperVGAモードで動作するためのBIOS割り込みサービス一式を定義して </span
      >います（[5]を参照）。<span data-dl-uid="2083" data-dl-translated="true">VBEは </span
      ><b data-dl-uid="2084" data-dl-original="true" data-dl-translated="true"
        >Vesa Bios Extensions (VBE) Core Standardで</b
      >定義されています<span
        style="font-weight: normal"
        data-dl-uid="2085"
        data-dl-original="true"
        data-dl-translated="true"
        >（[5]を参照）。
        カーネルモードのソフトウェアは、リアルモードまたはv8086モードでBIOSサービスを呼び出すことが</span
      >できます。
    </p>
    <h3 class="western" data-dl-uid="2086" data-dl-original="true" data-dl-translated="true">
      VBEモード番号
    </h3>
    <p class="western" data-dl-uid="2087" data-dl-original="true" data-dl-translated="true">
      VBEは、<span
        style="font-weight: normal"
        data-dl-uid="2089"
        data-dl-original="true"
        data-dl-translated="true"
        >ビデオBIOSと同様に</span
      >
      <b data-dl-uid="2088" data-dl-original="true" data-dl-translated="true">モード番号</b
      >のセットを定義しています。<span data-dl-uid="2089" data-dl-translated="true"
        >モード番号は次のような形式です。</span
      >
    </p>

    <table width="324" border="1" cellpadding="4" cellspacing="1">
      <colgroup>
        <col width="27" />
        <col width="34" />
        <col width="30" />
        <col width="29" />
        <col width="25" />
        <col width="23" />
        <col width="15" />
        <col width="66" />
      </colgroup>
      <tbody>
        <tr>
          <td colspan="8" width="312" valign="TOP" bgcolor="#cccccc">
            <p class="western">VBE Mode Number</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="27" sdval="15" sdnum="1033;">
            <p class="western">15</p>
          </td>
          <td width="34" sdval="14" sdnum="1033;">
            <p class="western">14</p>
          </td>
          <td width="30" sdval="13" sdnum="1033;">
            <p class="western">13</p>
          </td>
          <td width="29" sdval="12" sdnum="1033;">
            <p class="western">12</p>
          </td>
          <td width="25" sdval="11" sdnum="1033;">
            <p class="western">11</p>
          </td>
          <td width="23" sdval="10" sdnum="1033;">
            <p class="western">10</p>
          </td>
          <td width="15" sdval="9" sdnum="1033;">
            <p class="western">9</p>
          </td>
          <td width="66">
            <p class="western">Bits 0...8</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="27">
            <p class="western">DM</p>
          </td>
          <td width="34">
            <p class="western">LFB</p>
          </td>
          <td colspan="5" width="159">
            <p class="western">Reserved, set to 0</p>
          </td>
          <td width="66">
            <p class="western" align="CENTER">Mode</p>
          </td>
        </tr>
      </tbody>
    </table>

    <p
      class="western"
      style="margin-bottom: 0in"
      data-dl-uid="2103"
      data-dl-original="true"
      data-dl-translated="true"
    >
      <font color="#000000" data-dl-uid="2104" data-dl-original="true" data-dl-translated="true"
        ><font
          face="Times New Roman, serif"
          data-dl-uid="2105"
          data-dl-original="true"
          data-dl-translated="true"
          ><font size="3" data-dl-uid="2106" data-dl-original="true" data-dl-translated="true"
            ><b data-dl-uid="2107" data-dl-original="true" data-dl-translated="true">Mode number</b>
            <span
              style="font-weight: normal"
              data-dl-uid="2108"
              data-dl-original="true"
              data-dl-translated="true"
              >は実際のモード番号</span
            >です。<span data-dl-uid="2108" data-dl-translated="true"
              >ビット8がセットされていれば、VESAで定義された標準的なモードです（詳細は後述します）。</span
            ></font
          ></font
        ></font
      >
    </p>
    <p
      class="western"
      style="margin-bottom: 0in"
      data-dl-uid="2109"
      data-dl-original="true"
      data-dl-translated="true"
    >
      <font color="#000000" data-dl-uid="2110" data-dl-original="true" data-dl-translated="true"
        ><font
          face="Times New Roman, serif"
          data-dl-uid="2111"
          data-dl-original="true"
          data-dl-translated="true"
          ><font size="3" data-dl-uid="2112" data-dl-original="true" data-dl-translated="true"
            ><b data-dl-uid="2113" data-dl-original="true" data-dl-translated="true">LFB</b>は、<b
              data-dl-uid="2115"
              data-dl-original="true"
              data-dl-translated="true"
              >リニアフレームバッファ（LFB</b
            >）<span
              style="font-weight: normal"
              data-dl-uid="2116"
              data-dl-original="true"
              data-dl-translated="true"
              >モードと
            </span>
            <span
              style="font-weight: normal"
              data-dl-uid="2118"
              data-dl-original="true"
              data-dl-translated="true"
              >バンクスイッチングモードを</span
            ><span
              style="font-weight: normal"
              data-dl-uid="2114"
              data-dl-original="true"
              data-dl-translated="true"
              >選択 </span
            >します。<span data-dl-uid="2118" data-dl-translated="true"
              >0の場合、バンクスイッチングを使用し、標準的なVGAフレームバッファを使用します。1の場合、リニアフレームバッファを使用します。</span
            ></font
          ></font
        ></font
      >
    </p>
    <p
      class="western"
      style="margin-bottom: 0in"
      data-dl-uid="2119"
      data-dl-original="true"
      data-dl-translated="true"
    >
      <font color="#000000" data-dl-uid="2120" data-dl-original="true" data-dl-translated="true"
        ><font
          face="Times New Roman, serif"
          data-dl-uid="2121"
          data-dl-original="true"
          data-dl-translated="true"
          ><font size="3" data-dl-uid="2122" data-dl-original="true" data-dl-translated="true"
            ><b data-dl-uid="2123" data-dl-original="true" data-dl-translated="true">DMは</b>、<span
              style="font-weight: normal"
              data-dl-uid="2124"
              data-dl-original="true"
              data-dl-translated="true"
              >モード設定時に表示メモリをクリアするかどうかを選択</span
            >します。<span data-dl-uid="2124" data-dl-translated="true"
              >0の場合、表示メモリはクリアされます。1の場合、表示メモリはクリアされません。</span
            ></font
          ></font
        ></font
      >
    </p>
    <p
      class="western"
      style="margin-bottom: 0in"
      data-dl-uid="2125"
      data-dl-original="true"
      data-dl-translated="true"
    >
      <font color="#000000" data-dl-uid="2126" data-dl-original="true" data-dl-translated="true"
        ><font
          face="Times New Roman, serif"
          data-dl-uid="2127"
          data-dl-original="true"
          data-dl-translated="true"
          ><font size="3" data-dl-uid="2128" data-dl-original="true" data-dl-translated="true"
            ><b data-dl-uid="2129" data-dl-original="true" data-dl-translated="true">VESA定義モードは</b
            >、<span
              style="font-weight: normal"
              data-dl-uid="2130"
              data-dl-original="true"
              data-dl-translated="true"
              >BIOSベンダーがサポートを推奨しているビデオモード番号の標準セット</span
            >です。<span data-dl-uid="2130" data-dl-translated="true"
              >次の表は、グラフィックモードの一覧です。</span
            ></font
          ></font
        ></font
      >
    </p>

    <table width="458" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="45" />
        <col width="79" />
        <col width="85" />
        <col width="40" />
        <col width="83" />
        <col width="75" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">Mode</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">Resolution</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">Color depth</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">Mode</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">Resolution</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">Color depth</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">100h</p>
          </td>
          <td width="79">
            <p class="western">640x480</p>
          </td>
          <td width="85" sdval="256" sdnum="1033;">
            <p class="western">256</p>
          </td>
          <td width="40">
            <p class="western">113h</p>
          </td>
          <td width="83">
            <p class="western">800x600</p>
          </td>
          <td width="75">
            <p class="western">32K</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">101h</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">640x480</p>
          </td>
          <td width="85" bgcolor="#cccccc" sdval="256" sdnum="1033;">
            <p class="western">256</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">114h</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">800x600</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">64K</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">102h</p>
          </td>
          <td width="79">
            <p class="western">800x600</p>
          </td>
          <td width="85" sdval="16" sdnum="1033;">
            <p class="western">16</p>
          </td>
          <td width="40">
            <p class="western">115h</p>
          </td>
          <td width="83">
            <p class="western">800x600</p>
          </td>
          <td width="75">
            <p class="western">16.8M</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">103h</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">800x600</p>
          </td>
          <td width="85" bgcolor="#cccccc" sdval="256" sdnum="1033;">
            <p class="western">256</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">116h</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">1024x768</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">32K</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">10Dh</p>
          </td>
          <td width="79">
            <p class="western">320x200</p>
          </td>
          <td width="85">
            <p class="western">32K</p>
          </td>
          <td width="40">
            <p class="western">117h</p>
          </td>
          <td width="83">
            <p class="western">1024x768</p>
          </td>
          <td width="75">
            <p class="western">64K</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">10Eh</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">320x200</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">64K</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">118h</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">1024x768</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">16.8M</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">10Fh</p>
          </td>
          <td width="79">
            <p class="western">320x200</p>
          </td>
          <td width="85">
            <p class="western">16.8M</p>
          </td>
          <td width="40">
            <p class="western">119h</p>
          </td>
          <td width="83">
            <p class="western">1280x1024</p>
          </td>
          <td width="75">
            <p class="western">32K</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">110h</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">640x480</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">32K</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western">11Ah</p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western">1280x1024</p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western">64K</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45">
            <p class="western">111h</p>
          </td>
          <td width="79">
            <p class="western">640x480</p>
          </td>
          <td width="85">
            <p class="western">64K</p>
          </td>
          <td width="40">
            <p class="western">11Bh</p>
          </td>
          <td width="83">
            <p class="western">1280x1024</p>
          </td>
          <td width="75">
            <p class="western">16.8M</p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="45" bgcolor="#cccccc">
            <p class="western">112h</p>
          </td>
          <td width="79" bgcolor="#cccccc">
            <p class="western">640x480</p>
          </td>
          <td width="85" bgcolor="#cccccc">
            <p class="western">16.8M</p>
          </td>
          <td width="40" bgcolor="#cccccc">
            <p class="western"><br /></p>
          </td>
          <td width="83" bgcolor="#cccccc">
            <p class="western"><br /></p>
          </td>
          <td width="75" bgcolor="#cccccc">
            <p class="western"><br /></p>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="2194" data-dl-original="true" data-dl-translated="true">
      11Bhを超えるモード番号も定義可能ですが、標準ではありません。したがって、さらに高解像度のモードをサポートすることも可能である。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="34*" />
        <col width="222*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western" data-dl-uid="2195" data-dl-original="true" data-dl-translated="true">
              <img
                src="OSDevVid2_html_424a8468.gif"
                name="graphics15"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
                data-dl-uid="2196"
                data-dl-original="true"
                data-dl-translated="true"
              />
              <b data-dl-uid="2197" data-dl-original="true" data-dl-translated="true">例</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="font-style: normal; font-weight: normal; text-decoration: none"
              data-dl-uid="2198"
              data-dl-original="true"
              data-dl-translated="true"
            >
              VBEモード番号<b data-dl-uid="2199" data-dl-original="true" data-dl-translated="true"
                >113hは</b
              >バンクスイッチングを使用する<b
                data-dl-uid="2200"
                data-dl-original="true"
                data-dl-translated="true"
                >800x600x32Kカラーモード</b
              >、VBEモード番号<b data-dl-uid="2201" data-dl-original="true" data-dl-translated="true"
                >8113hは</b
              >リニアフレームバッファ（LFB）を使用する<b
                data-dl-uid="2202"
                data-dl-original="true"
                data-dl-translated="true"
                >800x600x32カラー</b
              >モードが選択されます。モード番号の形式を覚えておきましょう
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <h2 class="western" data-dl-uid="2203" data-dl-original="true" data-dl-translated="true">
      3.2.VBEサービス
    </h2>
    <p class="western" data-dl-uid="2204" data-dl-original="true" data-dl-translated="true">
      ここで、VBE BIOS
      サービスに注目します。これらのサービスはすべて[5]で参照できることを念頭に置いてください。ここでは、ビデオモードの設定とディスプレイメモリアクセスに必要な最も重要な3つのサービスのみを取り上げます。その他の割り込みについては、仕様書(読みやすい仕様書の一つです)を参照してください。
    </p>
    <h3 class="western" data-dl-uid="2205" data-dl-original="true" data-dl-translated="true">
      IN 0x10 ファンクション 4F00h - VBE コントローラ情報取得
    </h3>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="2206"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2207" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="2208"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dt>
    </dl>
    <ul>
      <li><dd data-dl-uid="2209" data-dl-original="true" data-dl-translated="true">AX=4F00h</dd></li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2210"
          data-dl-original="true"
          data-dl-translated="true"
        >
          ES:DI=VbeInfoBlock構造体へのポインタ (以下の例を参照してください)
        </dd>
      </li>
    </ul>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="2211"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2212" data-dl-original="true" data-dl-translated="true">出力</b>します。
      </dt>
    </dl>
    <ul>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2213"
          data-dl-original="true"
          data-dl-translated="true"
        >
          AX=ステータス
        </dd>
      </li>
    </ul>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="32*" />
        <col width="224*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td rowspan="2" width="13%">
            <p class="western"><b>Structure.</b></p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="font-weight: normal"
              data-dl-uid="2216"
              data-dl-original="true"
              data-dl-translated="true"
            >
              <b data-dl-uid="2217" data-dl-original="true" data-dl-translated="true"
                >vbeInfoBlock 構造</b
              >体は、以下のフォーマットを持つ。
            </p>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="87%">
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">typedef</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">struct</font></font><font color="#000000"> </font><font color="#000000"><font size="2">_vbeInfoBlock {</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint8_t</font></font><font color="#000000">  </font><font color="#000000"><font size="2">signature[4];     </font></font><font color="#008000"><font size="2">// �VESA�</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint16_t</font></font><font color="#000000"> </font><font color="#000000"><font size="2">version;          </font></font><font color="#008000"><font size="2">// Either 0x0200 (VBE 2.0) or 0x0300 (VBE 3.0)</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint32_t</font></font><font color="#000000"> </font><font color="#000000"><font size="2">oemString;        </font></font><font color="#008000"><font size="2">// Far pointer to OEM name</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint8_t </font></font><font color="#000000"> </font><font color="#000000"><font size="2">capabilities[4];  </font></font><font color="#008000"><font size="2">// capabilities</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint32_t</font></font><font color="#000000"> </font><font color="#000000"><font size="2">videoModesPtr;    </font></font><font color="#008000"><font size="2">// Far pointer to video mode list</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint16_t</font></font><font color="#000000"> </font><font color="#000000"><font size="2">totalMemory;      </font></font><font color="#008000"><font size="2">// Memory size in 64K blocks</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint16_t</font></font><font color="#000000"> </font><font color="#000000"><font size="2">oemSoftwareRev;</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint32_t</font></font><font color="#000000"> </font><font color="#000000"><font size="2">oemVenderNamePtr;</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint32_t</font></font><font color="#000000"> </font><font color="#000000"><font size="2">oemProductNamePtr;</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint32_t </font></font><font color="#000000"><font size="2">oemProductRevPtr;</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint8_t</font></font><font color="#000000">  </font><font color="#000000"><font size="2">reserved [222];</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">uint8_t</font></font><font color="#000000">  </font><font color="#000000"><font size="2">oemData [256];</font></font>
<font color="#000000"><font size="2">}vbeInfoBlock;</font></font></pre>
          </td>
        </tr>
        <tr valign="TOP">
          <td width="13%"></td>
          <td width="87%">
            <p class="western" style="margin-bottom: 0.2in">
              The <b>vbeInfoBlock.capabilities</b> field has the following format.
            </p>
            <table width="182" border="1" cellpadding="4" cellspacing="0">
              <colgroup>
                <col width="78" />
                <col width="23" />
                <col width="22" />
                <col width="25" />
              </colgroup>
              <tbody>
                <tr>
                  <td colspan="4" width="172" valign="TOP" bgcolor="#cccccc">
                    <p class="western">Capabilities</p>
                  </td>
                </tr>
                <tr valign="TOP">
                  <td width="78">
                    <p class="western">Bits 31...3</p>
                  </td>
                  <td width="23" sdval="2" sdnum="1033;">
                    <p class="western">2</p>
                  </td>
                  <td width="22" sdval="1" sdnum="1033;">
                    <p class="western">1</p>
                  </td>
                  <td width="25" sdval="0" sdnum="1033;">
                    <p class="western">0</p>
                  </td>
                </tr>
                <tr valign="TOP">
                  <td width="78">
                    <p class="western" align="CENTER">Reserved</p>
                  </td>
                  <td width="23">
                    <p class="western" align="CENTER">D2</p>
                  </td>
                  <td width="22">
                    <p class="western" align="CENTER">D1</p>
                  </td>
                  <td width="25">
                    <p class="western" align="CENTER">D0</p>
                  </td>
                </tr>
              </tbody>
            </table>
            <p
              class="western"
              style="margin-bottom: 0.2in"
              data-dl-uid="2323"
              data-dl-original="true"
              data-dl-translated="true"
            >
              <b data-dl-uid="2324" data-dl-original="true" data-dl-translated="true">D0:</b>
              <span
                style="font-weight: normal"
                data-dl-uid="2325"
                data-dl-original="true"
                data-dl-translated="true"
                >0の場合、DACは6ビット/色に固定</span
              >されます。<span data-dl-uid="2325" data-dl-translated="true"
                >1の場合、DACの幅を8ビット/色に切り替えることができます。</span
              >
            </p>
            <p
              class="western"
              style="margin-bottom: 0.2in"
              data-dl-uid="2326"
              data-dl-original="true"
              data-dl-translated="true"
            >
              <span
                style="font-weight: normal"
                data-dl-uid="2328"
                data-dl-original="true"
                data-dl-translated="true"
                >D1：0 の場合、コントローラは標準的な VGA モードをサポート</span
              >します。<span data-dl-uid="2328" data-dl-translated="true"
                >1の場合、コントローラは標準的なVGAモードをサポートしていません。</span
              >
            </p>
            <p
              class="western"
              style="margin-bottom: 0.2in"
              data-dl-uid="2329"
              data-dl-original="true"
              data-dl-translated="true"
            >
              <b data-dl-uid="2330" data-dl-original="true" data-dl-translated="true">D2:</b>
              <span
                style="font-weight: normal"
                data-dl-uid="2331"
                data-dl-original="true"
                data-dl-translated="true"
                >0なら、RAMDACは通常動作です</span
              >。<span data-dl-uid="2331" data-dl-translated="true"
                >1の場合、ファンクション9のブランク・ビットを使用するように仕様で指示されています。</span
              >
            </p>
          </td>
        </tr>
      </tbody>
    </table>

    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="2332"
      data-dl-original="true"
      data-dl-translated="true"
    >
      次の例は、この割り込みを呼び出す例です。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="32*" />
        <col width="224*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics16"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="
                margin-bottom: 0.2in;
                font-style: normal;
                font-weight: normal;
                text-decoration: none;
              "
              data-dl-uid="2336"
              data-dl-original="true"
              data-dl-translated="true"
            >
              ここで言うべきことは本当に多くはありません。割り込みを呼び出すには、この構造体を用いて<b
                data-dl-uid="2337"
                data-dl-original="true"
                data-dl-translated="true"
                >rm_bios</b
              >ルーチンを呼び出します。<b
                data-dl-uid="2338"
                data-dl-original="true"
                data-dl-translated="true"
                >SEGと</b
              ><b data-dl-uid="2339" data-dl-original="true" data-dl-translated="true">OFFSETは</b
              >、それぞれリアルモードの<b
                data-dl-uid="2340"
                data-dl-original="true"
                data-dl-translated="true"
                >セグメントと</b
              >
              <b data-dl-uid="2341" data-dl-original="true" data-dl-translated="true">オフセットを</b
              >計算するマクロです。これは、BIOSに渡すときに、32ビットのリニアアドレスを16ビットのセグメント：オフセットアドレスに変換するために使用されます。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">vbe_get_descr (vbeInfoBlock* descr) {</font></font>
        INTR in, out;
<font color="#000000">        </font><font color="#008000"><font size="2">/* sanity checks */</font></font>
<font color="#000000">        </font><font color="#0000ff"><font size="2">if</font></font><font color="#000000"> </font><font color="#000000"><font size="2">(!descr)</font></font>
<font color="#000000">                </font><font color="#0000ff"><font size="2">return</font></font><font color="#000000"><font size="2">;</font></font>

<font color="#000000">        </font><font color="#008000"><font size="2">/* call BIOS */</font></font>
        in.eax.val =0x4F00;
<font color="#000000">        </font><font color="#000000"><font size="2">in.es = SEG((</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"><font size="2">) descr);</font></font>
<font color="#000000">        </font><font color="#000000"><font size="2">in.edi.val = OFFSET((</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"><font size="2">) descr);</font></font>
        io_services (0x10, &amp;in, &amp;out);
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="2387" data-dl-original="true" data-dl-translated="true">
      IN 0x10 ファンクション 4F01h - VBEモード情報取得
    </h3>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="2388"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2389" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="2390"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dt>
    </dl>
    <ul>
      <li><dd data-dl-uid="2391" data-dl-original="true" data-dl-translated="true">AX=4F01h</dd></li>
      <li>
        <dd data-dl-uid="2392" data-dl-original="true" data-dl-translated="true">
          CX = モード番号 (VBEモード番号のフォーマットを思い出してください！)
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2393"
          data-dl-original="true"
          data-dl-translated="true"
        >
          ES:DI=ModeInfoBlock構造体へのポインタ(以下の例参照)
        </dd>
      </li>
    </ul>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="2394"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2395" data-dl-original="true" data-dl-translated="true">出力</b>します。
      </dt>
    </dl>
    <ul>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2396"
          data-dl-original="true"
          data-dl-translated="true"
        >
          AX=ステータス
        </dd>
      </li>
    </ul>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="35*" />
        <col width="221*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western"><b>Structure.</b></p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="margin-bottom: 0.2in"
              data-dl-uid="2399"
              data-dl-original="true"
              data-dl-translated="true"
            >
              <b data-dl-uid="2400" data-dl-original="true" data-dl-translated="true">ModeInfoBlockは</b
              ><span
                style="font-weight: normal"
                data-dl-uid="2401"
                data-dl-original="true"
                data-dl-translated="true"
                >以下の構造体</span
              >である。<span data-dl-uid="2401" data-dl-translated="true"
                >構造体のサイズが大きいので、すべてのメンバについて説明することはしません。後の章で説明する可能性のある重要なメンバにはコメントを付けています。</span
              >
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">typedef</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">struct</font></font><font color="#000000"> </font><font color="#000000"><font size="2">_modeInfoBlock {</font></font>
  uint16_t attributes;
  uint8_t windowA, windowB;
  uint16_t granularity;
  uint16_t windowSize;
  uint16_t segmentA, segmentB;
<font color="#000000">  </font><font color="#000000"><font size="2">uint32_t winFuncPtr;                      </font></font><font color="#008000"><font size="2">/* ptr to INT 0x10 Function 0x4F05 */</font></font>
<font color="#000000">  </font><font color="#000000"><font size="2">uint16_t pitch;                           </font></font><font color="#008000"><font size="2">/* bytes per scan line */</font></font>

<font color="#000000">  </font><font color="#000000"><font size="2">uint16_t resolutionX, resolutionY;        </font></font><font color="#008000"><font size="2">/* resolution */</font></font>
<font color="#000000">  </font><font color="#000000"><font size="2">uint8_t wChar, yChar, planes, bpp, banks; </font></font><font color="#008000"><font size="2">/* number of banks */</font></font>
  uint8_t memoryModel, bankSize, imagePages;
  uint8_t reserved0;

<font color="#000000">  </font><font color="#000000"><font size="2">uint8_t readMask, redPosition;            </font></font><font color="#008000"><font size="2">/* color masks */</font></font>
  uint8_t greenMask, greenPosition; 
  uint8_t blueMask, bluePosition;
  uint8_t reservedMask, reservedPosition;
  uint8_t directColorAttributes;

<font color="#000000">  </font><font color="#000000"><font size="2">uint32_t physbase;                        </font></font><font color="#008000"><font size="2">/* pointer to LFB in LFB modes */</font></font>
  uint32_t offScreenMemOff;
  uint16_t offScreenMemSize;
  uint8_t  reserved1 [206];
<font color="#000000"><font size="2">}modeInfoBlock;</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="2443" data-dl-original="true" data-dl-translated="true">
      次の例では、割り込みの呼び出しを実演しています。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="36*" />
        <col width="220*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="14%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics17"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="86%">
            <p
              class="western"
              style="margin-bottom: 0.2in; font-weight: normal"
              data-dl-uid="2447"
              data-dl-original="true"
              data-dl-translated="true"
            >
              次の関数は、上記の割り込みを使用して、基本的なバンク切り替えを行います。<b
                data-dl-uid="2448"
                data-dl-original="true"
                data-dl-translated="true"
                >SEGと</b
              >
              <b data-dl-uid="2449" data-dl-original="true" data-dl-translated="true">OFFSETを</b
              >使用して、<b data-dl-uid="2450" data-dl-original="true" data-dl-translated="true">outの</b
              >32ビットリニアアドレスを16ビットセグメント：オフセットファーポインタに変換していることに注意してください。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">vbe_get_mode (</font></font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">mode, modeInfoBlock* descr) {</font></font>
   INTR in, out;

<font color="#000000">   </font><font color="#008000"><font size="2">/* sanity check */</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">if</font></font><font color="#000000"> </font><font color="#000000"><font size="2">(!descr)</font></font>
<font color="#000000">     </font><font color="#0000ff"><font size="2">return</font></font><font color="#000000"><font size="2">;</font></font>

<font color="#000000">   </font><font color="#008000"><font size="2">/* call BIOS */</font></font>
   in.eax.val = 0x4F01;
   in.ecx.val = mode;
<font color="#000000">   </font><font color="#000000"><font size="2">in.es      = SEG   ((</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"><font size="2">)descr);</font></font>
<font color="#000000">   </font><font color="#000000"><font size="2">in.edi.val = OFFSET((</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"><font size="2">)descr);</font></font>
   io_services (0x10, &amp;in, &amp;out);
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 class="western" data-dl-uid="2501" data-dl-original="true" data-dl-translated="true">
      IN 0x10 ファンクション 4F02h - VBE モード設定
    </h3>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="2502"
      data-dl-original="true"
      data-dl-translated="true"
    >
      最後に見るのは、ディスプレイモードを設定するための割り込みです。これは、任意のVGAとVBEで定義されたSuperVGAモード、および標準以外の拡張モードを設定するために使用できます。
    </p>
    <dl>
      <dd
        style="margin-left: 0in; margin-bottom: 0.2in"
        data-dl-uid="2503"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2504" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="2505"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dd>
    </dl>
    <ul>
      <li><dd data-dl-uid="2506" data-dl-original="true" data-dl-translated="true">AX=4F02h</dd></li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2507"
          data-dl-original="true"
          data-dl-translated="true"
        >
          BX=モード番号(VBEモード形式を覚えよう!)
        </dd>
      </li>
    </ul>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="2508"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2509" data-dl-original="true" data-dl-translated="true">出力</b>します。
      </dt>
    </dl>
    <ul>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2510"
          data-dl-original="true"
          data-dl-translated="true"
        >
          AX=ステータス
        </dd>
      </li>
    </ul>
    <dl>
      <dd
        style="margin-left: 0in; margin-bottom: 0.2in"
        data-dl-uid="2511"
        data-dl-original="true"
        data-dl-translated="true"
      >
        次の例では、VBEモードを設定します。
      </dd>
    </dl>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="33*" />
        <col width="223*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics18"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="margin-bottom: 0.2in; font-weight: normal"
              data-dl-uid="2515"
              data-dl-original="true"
              data-dl-translated="true"
            >
              次の関数は、上記の割り込みを利用して、VBEモードを設定するものです。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">vbe_set_mode (</font></font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">mode) {</font></font>
<font color="#000000">   </font><font color="#008000"><font size="2">/* call BIOS */</font></font>
   INTR in, out;
   in.eax.val = 0x4F02;
   in.ebx.val = mode;
   io_services (0x10, &amp;in, &amp;out);
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="2532" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="2533" data-dl-original="true" data-dl-translated="true">vbe_set_modeを</b
      >呼び出すと、<span
        style="font-weight: normal"
        data-dl-uid="2534"
        data-dl-original="true"
        data-dl-translated="true"
        >VBEで定義された任意のモードを設定することができ、次のような</span
      >結果が得られます。
    </p>
    <p class="western">
      <img
        src="./graphics2_files/OSDevVid2_html_4142b2d0.gif"
        name="graphics23"
        align="LEFT"
        width="370"
        height="277"
        border="0"
      /><br clear="LEFT" /><i>Demo running in SuperVGA Mode 118h (1024x768)</i>
    </p>

    <h2 class="western" data-dl-uid="2536" data-dl-original="true" data-dl-translated="true">
      3.3.VBE表示メモリ
    </h2>
    <p class="western" data-dl-uid="2537" data-dl-original="true" data-dl-translated="true">
      VBEは、SuperVGAで使用されている2つの標準的な表示用メモリのアプローチをサポートしています。<b
        data-dl-uid="2538"
        data-dl-original="true"
        data-dl-translated="true"
        >LFB（Linear Frame Buffer</b
      >
      <span
        style="font-weight: normal"
        data-dl-uid="2539"
        data-dl-original="true"
        data-dl-translated="true"
        >）と</span
      ><b data-dl-uid="2540" data-dl-original="true" data-dl-translated="true">バンクスイッチング</b
      >です<span
        style="font-weight: normal"
        data-dl-uid="2541"
        data-dl-original="true"
        data-dl-translated="true"
        >。この2つでVBEがサポートするあらゆるビデオモードの設定を試みることができることを思い出してください。これらは、ディスプレイメモリへのアクセス方法の違いに過ぎません。このセクションでは、両方のタイプのモードを操作する方法について見ていきます。</span
      >
    </p>
    <h3 class="western" data-dl-uid="2542" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="2543" data-dl-original="true" data-dl-translated="true"
        >リニアフレームバッファ(LFB)モード</b
      >
    </h3>
    <p class="western" data-dl-uid="2544" data-dl-original="true" data-dl-translated="true">
      <span
        style="font-weight: normal"
        data-dl-uid="2545"
        data-dl-original="true"
        data-dl-translated="true"
        >LFBモードでは、すべてのビデオメモリが </span
      ><b data-dl-uid="2546" data-dl-original="true" data-dl-translated="true">物理アドレス</b>
      <span data-dl-uid="2545" data-dl-translated="true">空間にマップさ </span>れ<span
        style="font-weight: normal"
        data-dl-uid="2547"
        data-dl-original="true"
        data-dl-translated="true"
        >、通常は3GB〜4GBの範囲のハイアドレスになります(IA32アーキテクチャを想定)。ディスプレイメモリはC言語の配列のように線形で、ポインタから読み書きするだけですべてのビデオメモリに </span
      >アクセスすることが可能です。<span data-dl-uid="2547" data-dl-translated="true">VBEでは </span>、<b
        data-dl-uid="2548"
        data-dl-original="true"
        data-dl-translated="true"
        >INT 0x10 Function 4F01hを</b
      >
      <span
        style="font-weight: normal"
        data-dl-uid="2549"
        data-dl-original="true"
        data-dl-translated="true"
        >呼んで</span
      >、<span
        style="font-weight: normal"
        data-dl-uid="2551"
        data-dl-original="true"
        data-dl-translated="true"
        >現在の</span
      >モードの<b data-dl-uid="2550" data-dl-original="true" data-dl-translated="true">modeInfoBlock</b>
      <span data-dl-uid="2551" data-dl-translated="true">構造</span>体を<span
        data-dl-uid="2547"
        data-dl-translated="true"
        >取得することで、このポインタを </span
      >得ることができます。<span data-dl-uid="2551" data-dl-translated="true"
        >このとき表示するポインタは、ちょうど</span
      ><b data-dl-uid="2552" data-dl-original="true" data-dl-translated="true"
        >modeInfoBlock.physbaseに</b
      >なります<span
        style="font-weight: normal"
        data-dl-uid="2553"
        data-dl-original="true"
        data-dl-translated="true"
        >。</span
      >
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="32*" />
        <col width="224*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="12%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics19"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="88%">
            <p
              class="western"
              style="margin-bottom: 0.2in; font-weight: normal"
              data-dl-uid="2557"
              data-dl-original="true"
              data-dl-translated="true"
            >
              次のCコードは、16ビットの<b
                data-dl-uid="2558"
                data-dl-original="true"
                data-dl-translated="true"
                >赤緑青（RGB</b
              >）画素をプロットして表示するものです。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">pixel_16RGB (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"> </font><font color="#000000"><font size="2">color, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"> </font><font color="#000000"><font size="2">x, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"> </font><font color="#000000"><font size="2">y) {</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"><font size="2">* fb = (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"><font size="2">*) _modeInfo.physBasePtr;</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"> </font><font color="#000000"><font size="2">offset = x + y * (_modeInfo.bytesPerScanLine / 2);</font></font>
   fb [offset] = color;
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" data-dl-uid="2615" data-dl-original="true" data-dl-translated="true">
      LFBモードの表示用メモリは、表示用メモリがマッピングされているため、プロテクトモードまたはロングモードからしかアクセスすることができません。リアルモードでは、高解像度モードの表示メモリにアクセスするには、<b
        data-dl-uid="2616"
        data-dl-original="true"
        data-dl-translated="true"
        >バンク切り替えを</b
      >使用するしかありません<span
        style="font-weight: normal"
        data-dl-uid="2617"
        data-dl-original="true"
        data-dl-translated="true"
        >。</span
      >
    </p>
    <h3 class="western" data-dl-uid="2618" data-dl-original="true" data-dl-translated="true">
      バンク切り替え
    </h3>
    <p class="western" data-dl-uid="2619" data-dl-original="true" data-dl-translated="true">
      <b data-dl-uid="2620" data-dl-original="true" data-dl-translated="true">バンク切り替えを</b
      >使用するモードでは、<span
        style="font-weight: normal"
        data-dl-uid="2621"
        data-dl-original="true"
        data-dl-translated="true"
        >常に64KのディスプレイメモリがVGAメモリスペースの </span
      ><b data-dl-uid="2622" data-dl-original="true" data-dl-translated="true">0xa0000</b
      ><span
        style="font-weight: normal"
        data-dl-uid="2623"
        data-dl-original="true"
        data-dl-translated="true"
        >物理アドレス </span
      >に<span data-dl-uid="2621" data-dl-translated="true">マッピング </span>されています。<span
        data-dl-uid="2623"
        data-dl-translated="true"
        >この64Kのディスプレイメモリのブロックを </span
      ><b data-dl-uid="2624" data-dl-original="true" data-dl-translated="true">バンクと</b>呼びます<span
        style="font-weight: normal"
        data-dl-uid="2625"
        data-dl-original="true"
        data-dl-translated="true"
        >。
        ソフトウェアは一度に1つのバンクにしかアクセスできないため、ディスプレイメモリのすべてにアクセス </span
      >することはできません。<b data-dl-uid="2626" data-dl-original="true" data-dl-translated="true"
        >そのため、ソフトウエアは必要に応じてバンクを切り替え、すべてのディスプレイメモリにアクセスしなければならない。</b
      >
    </p>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="2627"
      data-dl-original="true"
      data-dl-translated="true"
    >
      つまり、バンク0はディスプレイメモリの0〜64Kのバイト、バンク1はディスプレイメモリの64K〜128Kのバイト、といった具合に、バンクを切り替えることで、ソフトウエアはこの64Kの
      "窓 "からすべてのディスプレイメモリにアクセスできる。つまり、バンクを切り替えることで、この64Kの
      "窓 "から、どんなに高解像度であっても、すべてのディスプレイメモリにアクセスすることができるのだ。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="32*" />
        <col width="224*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics20"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="margin-bottom: 0.2in; font-weight: normal"
              data-dl-uid="2631"
              data-dl-original="true"
              data-dl-translated="true"
            >
              次のコードは、8ビットRGBピクセルをバンク切り替えモードでプロットします。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">pixel_8RGB (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"> </font><font color="#000000"><font size="2">color, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"> </font><font color="#000000"><font size="2">x, </font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">short</font></font><font color="#000000"> </font><font color="#000000"><font size="2">y) {</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"><font size="2">* fb = (</font></font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">char</font></font><font color="#000000"><font size="2">*) 0xa0000;</font></font>
<font color="#000000">   </font><font color="#0000ff"><font size="2">unsigned</font></font><font color="#000000"> </font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">offset = x + (</font></font><font color="#0000ff"><font size="2">long</font></font><font color="#000000"><font size="2">)y * _modeInfo.bytesPerScanLine;</font></font>
   vbe_bankSwitch (offset &gt;&gt; 16);
   fb [offset &amp; 0xffff] = color;
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p
      class="western"
      style="margin-bottom: 0in"
      data-dl-uid="2692"
      data-dl-original="true"
      data-dl-translated="true"
    >
      <font color="#000000" data-dl-uid="2693" data-dl-original="true" data-dl-translated="true"
        ><font
          face="Times New Roman, serif"
          data-dl-uid="2694"
          data-dl-original="true"
          data-dl-translated="true"
          ><font size="3" data-dl-uid="2695" data-dl-original="true" data-dl-translated="true"
            >バンク切り替えモードは、より多くの計算を必要とするため、一般的に速度が遅くなります。つまり、画面上のピクセルの位置だけでなく、バンク内のオフセットや切り替え先のバンクも計算する必要があるのです。この計算は、ディスプレイメモリから読み出す場合も同様です。ただし、バンク切り替えモードは、ディスプレイメモリの64Kをマッピングするだけなので、リアルモードやv86モードでも使用可能です。</font
          ></font
        ></font
      >
    </p>
    <p
      class="western"
      style="margin-bottom: 0in"
      data-dl-uid="2696"
      data-dl-original="true"
      data-dl-translated="true"
    >
      <font color="#000000" data-dl-uid="2697" data-dl-original="true" data-dl-translated="true"
        ><font
          face="Times New Roman, serif"
          data-dl-uid="2698"
          data-dl-original="true"
          data-dl-translated="true"
          ><font size="3" data-dl-uid="2699" data-dl-original="true" data-dl-translated="true"
            >VBEでは、<b data-dl-uid="2700" data-dl-original="true" data-dl-translated="true"
              >INT 0x10 Function 0x4F05 - Display Window Controlを</b
            >呼び出すことでバンクを切り替えることができました<span
              style="font-weight: normal"
              data-dl-uid="2701"
              data-dl-original="true"
              data-dl-translated="true"
              >。 また </span
            >、<b data-dl-uid="2702" data-dl-original="true" data-dl-translated="true"
              >INT 0x10 Function 0x4F01 - Get VBE Mode</b
            >
            <span
              style="font-weight: normal"
              data-dl-uid="2703"
              data-dl-original="true"
              data-dl-translated="true"
              >Informationを呼び出して </span
            ><b data-dl-uid="2704" data-dl-original="true" data-dl-translated="true"
              >VbeModeInfo.WinFuncPtrを</b
            >呼び出す<span data-dl-uid="2701" data-dl-translated="true"
              >ことで（VBE仕様が推奨するように）直接呼び出す </span
            >ことが可能です<span
              style="font-weight: normal"
              data-dl-uid="2705"
              data-dl-original="true"
              data-dl-translated="true"
              >。</span
            ></font
          ></font
        ></font
      >
    </p>
    <h3 class="western" data-dl-uid="2706" data-dl-original="true" data-dl-translated="true">
      IN 0x10 ファンクション 4F05h - 表示ウィンドウの制御
    </h3>
    <p
      class="western"
      style="font-weight: normal"
      data-dl-uid="2707"
      data-dl-original="true"
      data-dl-translated="true"
    >
      ディスプレイバンクを設定または取得します。<b
        data-dl-uid="2708"
        data-dl-original="true"
        data-dl-translated="true"
        >VbeModeInfo.WinFuncPtrから</b
      >呼び出すこともできます。
    </p>
    <dl>
      <dd
        style="margin-bottom: 0.2in"
        data-dl-uid="2709"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2710" data-dl-original="true" data-dl-translated="true">入力する</b
        ><span
          style="font-weight: normal"
          data-dl-uid="2711"
          data-dl-original="true"
          data-dl-translated="true"
          >。</span
        >
      </dd>
    </dl>
    <ul>
      <li><dd data-dl-uid="2712" data-dl-original="true" data-dl-translated="true">AX=4F05h</dd></li>
      <li>
        <dd data-dl-uid="2713" data-dl-original="true" data-dl-translated="true">
          BH=0（メモリウインドウの設定）, 1（メモリウインドウの取得）
        </dd>
      </li>
      <li>
        <dd data-dl-uid="2714" data-dl-original="true" data-dl-translated="true">
          BL=0(ウィンドウA), 1(ウィンドウB)
        </dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2715"
          data-dl-original="true"
          data-dl-translated="true"
        >
          DX=窓の粒度単位での窓番号。BH=0(Set機能)の時のみ使用します。
        </dd>
      </li>
    </ul>
    <dl>
      <dt
        style="margin-bottom: 0.2in"
        data-dl-uid="2716"
        data-dl-original="true"
        data-dl-translated="true"
      >
        <b data-dl-uid="2717" data-dl-original="true" data-dl-translated="true">出力</b>します。
      </dt>
    </dl>
    <ul>
      <li>
        <dd data-dl-uid="2718" data-dl-original="true" data-dl-translated="true">AX=ステータス</dd>
      </li>
      <li>
        <dd
          style="margin-bottom: 0.2in"
          data-dl-uid="2719"
          data-dl-original="true"
          data-dl-translated="true"
        >
          DX=粒度単位でのウィンドウ番号。BH=1(Get機能)の時のみ使用。
        </dd>
      </li>
    </ul>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="33*" />
        <col width="223*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics21"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="margin-bottom: 0.2in; font-weight: normal"
              data-dl-uid="2723"
              data-dl-original="true"
              data-dl-translated="true"
            >
              次の関数は、上記の割り込みを利用して、基本的なバンク切り替えを行います。これは、VBEの実装によっては、読み出しと書き込みのウィンドウが別々になっている場合があるため、ウィンドウAとウィンドウBに対して2回割り込みを呼び出していることに注意してください。
            </p>
            <pre
              class="western"
            ><font color="#0000ff"><font size="2">void</font></font><font color="#000000"> </font><font color="#000000"><font size="2">vbe_bankSwitch (</font></font><font color="#0000ff"><font size="2">int</font></font><font color="#000000"> </font><font color="#000000"><font size="2">bank) {</font></font>
   INTR in, out;

   bank &lt;&lt;= bankShift;

   in.eax.val=0x4F05;
<font color="#000000">   </font><font color="#000000"><font size="2">in.ebx.val = 0;                </font></font><font color="#008000"><font size="2">/* BH=0 (Set memory window) BL=0 (Window A) */</font></font>
   in.edx.val = bank;
<font color="#000000">   </font><font color="#000000"><font size="2">io_services (0x10, &amp;in, &amp;out); </font></font><font color="#008000"><font size="2">/* call BIOS */</font></font>

   in.eax.val=0x4F05;
<font color="#000000">   </font><font color="#000000"><font size="2">in.ebx.val = 1;                </font></font><font color="#008000"><font size="2">/* BH=0 (Set memory window) BL=1 (Window A) */</font></font>
   in.edx.val = bank;
<font color="#000000">   </font><font color="#000000"><font size="2">io_services (0x10, &amp;in, &amp;out); </font></font><font color="#008000"><font size="2">/* call BIOS */</font></font>
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <h1 class="western" data-dl-uid="2757" data-dl-original="true" data-dl-translated="true">
      4.Bochs VBEインターフェース
    </h1>
    <p class="western" data-dl-uid="2758" data-dl-original="true" data-dl-translated="true">
      Bochsエミュレータは、ファームウェアを呼び出すことなく直接VBEモードを設定する別の方法を提供します。
      サポートは限定的ですが、高解像度グラフィックスを扱うためのセミポータブルな方法（互換性のあるBochsエミュレータが必要なだけ）を提供します。
    </p>

    <table width="100%" border="1" cellpadding="4" cellspacing="0" rules="NONE">
      <colgroup>
        <col width="33*" />
        <col width="223*" />
      </colgroup>
      <tbody>
        <tr valign="TOP">
          <td width="13%">
            <p class="western">
              <img
                src="./graphics2_files/OSDevVid2_html_424a8468.gif"
                name="graphics24"
                align="BOTTOM"
                width="12"
                height="12"
                border="0"
              />
              <b>Example.</b>
            </p>
          </td>
          <td width="87%">
            <p
              class="western"
              style="margin-bottom: 0.2in; font-weight: normal"
              data-dl-uid="2762"
              data-dl-original="true"
              data-dl-translated="true"
            >
              以下の機能により、Bochs社がサポートするあらゆるVBEモードを設定することが可能です。
            </p>
            <pre
              class="western"
            ><font color="#000000"><font size="2">#define VBE_DISPI_IOPORT_INDEX 0x01CE</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_IOPORT_DATA  0x01CF</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_ID              0x0</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_XRES            0x1</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_YRES            0x2</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_BPP             0x3</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_ENABLE          0x4</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_BANK            0x5</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_VIRT_WIDTH      0x6</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_VIRT_HEIGHT     0x7</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_X_OFFSET        0x8</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_INDEX_Y_OFFSET        0x9</font></font>

<font color="#000000"><font size="2">#define VBE_DISPI_DISABLED              0x00</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_ENABLED               0x01</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_GETCAPS               0x02</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_8BIT_DAC              0x20</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_LFB_ENABLED           0x40</font></font>
<font color="#000000"><font size="2">#define VBE_DISPI_NOCLEARMEM            0x80</font></font>

<font color="#000000"><font size="2">void BlBochsVbeWrite (uint16_t index, uint16_t value) {</font></font>

<font color="#000000">   <font size="2">WRITE_PORT_USHORT(VBE_DISPI_IOPORT_INDEX, index);</font></font>
<font color="#000000">   <font size="2">WRITE_PORT_USHORT(VBE_DISPI_IOPORT_DATA, value);</font></font>
<font color="#000000"><font size="2">}</font></font>

<font color="#000000"><font size="2">void BlBochsSetMode (uint16_t xres, uint16_t yres, uint16_t bpp) {</font></font>

<font color="#000000">   <font size="2">BlBochsVbeWrite (VBE_DISPI_INDEX_ENABLE, VBE_DISPI_DISABLED);</font></font>
<font color="#000000">   <font size="2">BlBochsVbeWrite (VBE_DISPI_INDEX_XRES, xres);</font></font>
<font color="#000000">   <font size="2">BlBochsVbeWrite (VBE_DISPI_INDEX_YRES, yres);</font></font>
<font color="#000000">   <font size="2">BlBochsVbeWrite (VBE_DISPI_INDEX_BPP, bpp);</font></font>
<font color="#000000">   <font size="2">BlBochsVbeWrite (VBE_DISPI_INDEX_ENABLE, VBE_DISPI_ENABLED | VBE_DISPI_LFB_ENABLED);   </font></font>
<font color="#000000"><font size="2">}</font></font></pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p class="western" style="margin-bottom: 0in"><br /></p>
    <p class="western" data-dl-uid="2822" data-dl-original="true" data-dl-translated="true">
      標準的なスーパーVGAのハードウェア・インターフェースは存在しないことを思い出してください。つまり、この方法はBochsに特化したものであり、他の環境やプラットフォームでは動作しない可能性があります。読者の多くはBochsを主なエミュレータとして使用すると思われますので、最高の互換性を維持するためにこの方法を使用します。また、この方法は最もシンプルです。
    </p>
    <p class="western" data-dl-uid="2823" data-dl-original="true" data-dl-translated="true">
      ただし、より高い互換性のために、<b
        data-dl-uid="2824"
        data-dl-original="true"
        data-dl-translated="true"
        >仮想8086</b
      >モードを使用してVBEサービスを直接利用することが推奨されます。
    </p>

    <h1 class="western" data-dl-uid="2827" data-dl-original="true" data-dl-translated="true">
      6.まとめ
    </h1>
    <p class="western" data-dl-uid="2828" data-dl-original="true" data-dl-translated="true">
      この章では、VGA BIOS、VGAハードウェア、SuperVGA、VESA BIOS
      Extensionsの紹介を含め、多くのことをカバーしました。これで、後の章で必要となる低解像度および高解像度グラフィックモードの切り替えに必要な資料をすべて網羅しました。次の数章では、実際のグラフィックスレンダリングとパイプラインに焦点を当て、場合によってはSuperVGAのビットを追加する予定です。次回は、基本的なプリミティブとグラフィックスレンダリング、そしてトランスフォームから始めるかもしれません。
    </p>
    <p class="western" data-dl-uid="2829" data-dl-original="true" data-dl-translated="true">
      後のデモで使用するのは、今回最後に紹介した「Bochs VBE
      Interface」という方法です。これにより、読者の多くがBochsを使うことを前提に、後の記事で高解像度のLFBモードを使うことができるようになりました。つまり、表示モードを設定するために好きな方法を使用することができ、よりグラフィックスに焦点を当てた次の数回の記事にも従うことができます。
    </p>
  </body>
</html>
